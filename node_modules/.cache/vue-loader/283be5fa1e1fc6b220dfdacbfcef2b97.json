{"remainingRequest":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/justinwu/Desktop/story_personalization_system/src/components/editor/tools/passage/Passage_View.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/justinwu/Desktop/story_personalization_system/src/components/editor/tools/passage/Passage_View.vue","mtime":1604692362839},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgTGlzdF9FbGVtZW50IGZyb20gIi4vTGlzdF9FbGVtZW50LnZ1ZSIKCmltcG9ydCBQYWdlIGZyb20gIkAvanMvZXh0d2VlX3V0aWxzL1BhZ2UuanMiCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAncGFzc2FnZV92aWV3JywKCiAgICBwcm9wczp7CiAgICAgICAgcGFnZTogUGFnZSwKICAgICAgICBjdXJyUGFzc2FnZTogU3RyaW5nCiAgICB9LAoKICAgIGNvbXBvbmVudHM6ewogICAgICAgICdsaXN0LWVsZW1lbnQnOiBMaXN0X0VsZW1lbnQKICAgIH0sCgogICAgZGF0YSgpewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgbmFtZTogdGhpcy5wYWdlLnBhZ2VOYW1lLAogICAgICAgICAgICBsaW5rczogdGhpcy5wYWdlLmxpbmtzLAogICAgICAgICAgICBuZXdOYW1lVmFsOiB0aGlzLnBhZ2UucGFnZU5hbWUsCiAgICAgICAgICAgIHByZXZOYW1lVmFsOiB0aGlzLnBhZ2UucGFnZU5hbWUsCgogICAgICAgICAgICBlZGl0TmFtZTogZmFsc2UsCiAgICAgICAgICAgIHNob3dMaW5rczogZmFsc2UsCiAgICAgICAgICAgIGRlbGV0ZTogZmFsc2UsCgogICAgICAgICAgICBsaXN0UmVuZGVyS2V5OiAwCiAgICAgICAgfQogICAgfSwKCiAgICBtZXRob2RzOnsKCiAgICAgICAgZW1pdEdvVG86IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoImV2dEdvVG9QYWdlIiwge25hbWU6IHRoaXMubmFtZX0pOwogICAgICAgIH0sCgogICAgICAgIGVtaXREZWxldGU6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoImV2dERlbGV0ZSIsIHtuYW1lOiB0aGlzLm5hbWV9KTsKICAgICAgICB9LAoKICAgICAgICByZW1vdmVMaW5rOiBmdW5jdGlvbihldmVudCl7CgogICAgICAgICAgICB0aGlzLmxpbmtzID0gdGhpcy5saW5rcy5maWx0ZXIoZnVuY3Rpb24obGluayl7CiAgICAgICAgICAgICAgICByZXR1cm4gbGluay5uYW1lICE9IGV2ZW50OwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHRoaXMuJGVtaXQoImV2dFJlbW92ZUxpbmsiLCB7bmFtZTogdGhpcy5uYW1lLCByZW1vdmVMaW5rOiBldmVudH0pOwoKICAgICAgICAgICAgdGhpcy5saXN0UmVuZGVyS2V5Kys7CiAgICAgICAgICAgIHRoaXMuY2hlY2tSZW5kZXJIaW50cygpOwogICAgICAgIH0sCgogICAgICAgIGFkZExpbms6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoImV2dEFkZExpbmsiLCB7bmFtZTogdGhpcy5uYW1lfSk7CiAgICAgICAgfSwKCiAgICAgICAgc2hvd0xpc3Q6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHRoaXMuc2hvd0xpbmtzID0gIXRoaXMuc2hvd0xpbmtzOwogICAgICAgIH0sCgogICAgICAgIHNob3dFZGl0TmFtZTogZnVuY3Rpb24oKXsKICAgICAgICAgICAgdGhpcy5lZGl0TmFtZSA9ICF0aGlzLmVkaXROYW1lOwoKICAgICAgICAgICAgaWYoIXRoaXMuZWRpdE5hbWUpewogICAgICAgICAgICAgICAgdGhpcy5uZXdOYW1lVmFsID0gdGhpcy5wcmV2TmFtZVZhbDsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHNob3dEZWxldGU6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHRoaXMuZGVsZXRlID0gIXRoaXMuZGVsZXRlOwogICAgICAgIH0sCgogICAgICAgIHVwZGF0ZVBhc3NhZ2VOYW1lOiBmdW5jdGlvbigpewoKICAgICAgICAgICAgdmFyIHByb2Nlc3MgPSB0cnVlOwoKICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMucGFnZS5zdG9yeS5wYXNzYWdlcy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICBpZih0aGlzLnBhZ2Uuc3RvcnkucGFzc2FnZXNbaV0ubmFtZSA9PSB0aGlzLm5ld05hbWVWYWwgJiYgdGhpcy5uZXdOYW1lVmFsICE9IHRoaXMucHJldk5hbWVWYWwpewogICAgICAgICAgICAgICAgICAgIHByb2Nlc3MgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYocHJvY2Vzcyl7CiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJldnROZXdQYXNzYWdlTmFtZSIsIHtwcmV2TmFtZTogdGhpcy5uYW1lLCBuZXdOYW1lOiB0aGlzLm5ld05hbWVWYWx9KTsKICAgICAgICAgICAgICAgIHRoaXMuZWRpdE5hbWUgPSAhdGhpcy5lZGl0TmFtZTsKICAgICAgICAgICAgICAgIHRoaXMucHJldk5hbWVWYWwgPSB0aGlzLm5ld05hbWVWYWw7CiAgICAgICAgICAgIH0gZWxzZXsKICAgICAgICAgICAgICAgIGFsZXJ0KCJOYW1lIGFscmVhZHkgZXhpc3RzIik7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBjaGVja1JlbmRlckhpbnRzOiBmdW5jdGlvbigpewogICAgICAgICAgICBpZih0aGlzLmxpc3RSZW5kZXJLZXkgPiAxMCl7CiAgICAgICAgICAgICAgICB0aGlzLmxpc3RSZW5kZXJLZXkgPSAwOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["Passage_View.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Passage_View.vue","sourceRoot":"src/components/editor/tools/passage","sourcesContent":["<template>\n    <div id = \"passage_view\" v-bind:style = \"currPassage == this.name ? 'border: solid brown;': ''\">\n\n        <div id = \"bar\">\n            <div id = \"delete\" v-if = \"this.delete\">\n                <h4 id = \"sure\">Are You Sure?</h4>\n                <v-btn icon id = \"cancel_del\" v-on:click = \"showDelete\"><v-icon>mdi-close</v-icon></v-btn>\n                <v-btn icon id = \"conf_del\" v-on:click = \"emitDelete\"><v-icon>mdi-check</v-icon></v-btn>\n            </div>\n\n            <div id = \"header\" v-if = \"!this.delete\" :style = \"this.editName ? 'grid-template-columns: 1fr 1fr 5fr 1fr;':''\">\n\n                <v-tooltip bottom>\n                    <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn v-bind=\"attrs\" v-on=\"on\"\n                            icon id = \"goto\" v-on:click = \"emitGoTo\">\n                            <v-icon>mdi-eye</v-icon>\n                        </v-btn>\n                    </template>\n                    <span>Go To \"{{name}}\"</span>\n                </v-tooltip>\n\n                <v-tooltip bottom>\n                    <template v-slot:activator=\"{ on, attrs}\">\n                        <v-btn v-bind=\"attrs\" v-on=\"on\"\n                            icon id = \"link_list_show\" v-on:click = \"showList(); editName = false;\">\n                            <v-icon>{{showLinks ? \"mdi-chevron-down\":\"mdi-chevron-right\"}}</v-icon>\n                        </v-btn>\n                    </template>\n\n                    <span>See Links in \"{{name}}\"</span>\n                </v-tooltip>\n\n                <v-tooltip bottom v-if = \"!this.editName\">\n                    <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn v-bind=\"attrs\" v-on=\"on\"\n                            icon id = \"link_list_show\" v-on:click = \"addLink\">\n                            <v-icon>mdi-plus</v-icon>\n                        </v-btn>\n                    </template>\n                    <span>Add Link To \"{{name}}\" in displayed passage</span>\n                </v-tooltip>\n\n                <button v-if = \"!this.editName\" class = \"sidebar_input no_border bold_text\" v-on:click = \"showEditName\" style = \"cursor: pointer;\">\n                    <h4 v-if = \"!this.editName\" id = \"name\">{{this.name}}</h4>\n                </button>\n\n                <input class = \"sidebar_input bold_text\" v-if = \"this.editName\" v-model = \"newNameVal\" v-on:keyup.esc = \"showEditName\" v-on:keyup.enter = \"updatePassageName\" v-on:blur = \"showEditName\" />\n                \n                <v-tooltip bottom>\n                    <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn v-bind=\"attrs\" v-on=\"on\"\n                            icon id = \"del\" v-on:click = \"showDelete(); editName = false;\">\n                            <v-icon>mdi-delete</v-icon>\n                        </v-btn>\n                    </template>\n                    <span>Delete</span>\n                </v-tooltip>\n                \n            </div>\n        </div>\n\n        <div id = \"links\" v-if = \"this.showLinks\" v-bind:key = \"this.listRenderKey\">\n            <list-element v-for = \"(link, index) in this.links\" v-bind:key = \"index\" v-bind:select = \"false\" v-bind:name = \"link.name\" v-bind:showSelect = \"false\"\n                                                                                v-on:evtRemove = \"removeLink\"></list-element>\n\n            <label v-if = \"this.links.length == 0\">No Links in this Passage</label>\n        </div>            \n        \n    </div>\n</template>\n\n\n<script>\n\nimport List_Element from \"./List_Element.vue\"\n\nimport Page from \"@/js/extwee_utils/Page.js\"\n\nexport default {\n    name: 'passage_view',\n\n    props:{\n        page: Page,\n        currPassage: String\n    },\n\n    components:{\n        'list-element': List_Element\n    },\n\n    data(){\n        return{\n            name: this.page.pageName,\n            links: this.page.links,\n            newNameVal: this.page.pageName,\n            prevNameVal: this.page.pageName,\n\n            editName: false,\n            showLinks: false,\n            delete: false,\n\n            listRenderKey: 0\n        }\n    },\n\n    methods:{\n\n        emitGoTo: function(){\n            this.$emit(\"evtGoToPage\", {name: this.name});\n        },\n\n        emitDelete: function(){\n            this.$emit(\"evtDelete\", {name: this.name});\n        },\n\n        removeLink: function(event){\n\n            this.links = this.links.filter(function(link){\n                return link.name != event;\n            });\n\n            this.$emit(\"evtRemoveLink\", {name: this.name, removeLink: event});\n\n            this.listRenderKey++;\n            this.checkRenderHints();\n        },\n\n        addLink: function(){\n            this.$emit(\"evtAddLink\", {name: this.name});\n        },\n\n        showList: function(){\n            this.showLinks = !this.showLinks;\n        },\n\n        showEditName: function(){\n            this.editName = !this.editName;\n\n            if(!this.editName){\n                this.newNameVal = this.prevNameVal;\n            }\n        },\n\n        showDelete: function(){\n            this.delete = !this.delete;\n        },\n\n        updatePassageName: function(){\n\n            var process = true;\n\n            for(var i = 0; i < this.page.story.passages.length; i++){\n                if(this.page.story.passages[i].name == this.newNameVal && this.newNameVal != this.prevNameVal){\n                    process = false;\n                }\n            }\n\n            if(process){\n                this.$emit(\"evtNewPassageName\", {prevName: this.name, newName: this.newNameVal});\n                this.editName = !this.editName;\n                this.prevNameVal = this.newNameVal;\n            } else{\n                alert(\"Name already exists\");\n            }\n        },\n\n        checkRenderHints: function(){\n            if(this.listRenderKey > 10){\n                this.listRenderKey = 0;\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n\t\n    @keyframes input_anim{\n        from{border-bottom: solid lightgray; border-width: 1px;}\n        to{border-bottom:solid gray; border-width: 1px;}\n\t}\n\n\t.sidebar_input{\n\t\twidth: 100%;\n\t\tborder-bottom: solid lightgray;\n\t\tborder-width: 1px;\n\t\ttext-align: center;\n\t\tborder-radius: 5px;\n\t\toutline:none;\n\t}\n\n\t.sidebar_input:hover{\n\t\tborder-width: 1px;\n\t\tborder-radius: 5px;\n\t\tanimation: input_anim;\n\t\tanimation-fill-mode: forwards;\n\t\tanimation-duration: 500ms;\n\t}\n\n\t.no_border{\n\t\tborder: solid 1px transparent;\n\t\tborder-radius: 0px;\n\t}\n\n    .bold_text{\n        font-size: 15px;\n\t\tfont-weight: bold;\n    }\n\n    #passage_view{\n        display:flex;\n        flex-direction:column;\n        justify-content: space-around;\n        \n        padding: 5px;\n\n        border: solid lightgray;\n\t\tborder-radius: 5px;\n\t\tborder-width: 2px;\n    }\n\n    #links{\n        padding: 5px;\n\n        border: solid lightgray;\n\t\tborder-radius: 5px;\n\t\tborder-width: 1px;\n    }\n\n    #header{\n        display:grid;\n        grid-template-columns: 1fr 1fr 1fr 4fr 1fr;\n    }\n\n    #delete{\n        display:grid;\n        grid-template-columns: 6fr 1fr 1fr;\n    }\n\n    #passageName{\n        border: solid lightgray;\n\t\tborder-radius: 5px;\n\t\tborder-width: 1px;\n\n\t\ttext-align: center;\n\n\t\tfont-size: 15px;\n\t\tfont-weight: bold;\n    }\n\n    #sure{\n        padding-top:0.45rem;\n    }\n\n    button{\n        outline:none;\n    }\n\n    @keyframes border_anim{\n        from{border: solid white;        \n                border-width: 2px;\n                border-radius: 5px;\n                padding: 5px;}\n\n        to{border:solid gray;\n            border-width: 2px;\n            border-radius: 5px;\n            padding: 5px;}\n        }\n\n    .sidebar_button{\n\t\tborder: solid white;\n        border-width: 2px;\n\t\tborder-radius: 5px;\n        padding: 5px;\n\t}\n\n\t.sidebar_button:hover{\n\t\tanimation: border_anim;\n\t\tanimation-fill-mode: forwards;\n\t\tanimation-duration: 500ms;\n\t}\n\n    \n</style>"]}]}
{"remainingRequest":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/justinwu/Desktop/story_personalization_system/src/components/editor/tools/variables/Sidebar_Variables.vue?vue&type=style&index=0&id=49292036&scoped=true&lang=css&","dependencies":[{"path":"/Users/justinwu/Desktop/story_personalization_system/src/components/editor/tools/variables/Sidebar_Variables.vue","mtime":1604692362840},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiAgICAjdGl0bGV7CiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgfQoKICAgIC5lbWl0dGVyewogICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgbGVmdDogODUlOwogICAgICAgIHRvcDogMiU7CiAgICB9CgogICBAa2V5ZnJhbWVzIGJvcmRlcl9hbmltewogICAgICAgIGZyb217Ym9yZGVyOiBzb2xpZCB3aGl0ZTsgICAgICAgIAogICAgICAgICAgICAgICAgYm9yZGVyLXdpZHRoOiAycHg7CiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiA1cHg7fQoKICAgICAgICB0b3tib3JkZXI6c29saWQgZ3JheTsKICAgICAgICAgICAgYm9yZGVyLXdpZHRoOiAycHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgcGFkZGluZzogNXB4O30KICAgICAgICB9CgogICAgLnNpZGViYXJfYnV0dG9uewoJCWJvcmRlcjogc29saWQgd2hpdGU7CiAgICAgICAgYm9yZGVyLXdpZHRoOiAycHg7CgkJYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgIHBhZGRpbmc6IDVweDsKCX0KCgkuc2lkZWJhcl9idXR0b246aG92ZXJ7CgkJYW5pbWF0aW9uOiBib3JkZXJfYW5pbTsKCQlhbmltYXRpb24tZmlsbC1tb2RlOiBmb3J3YXJkczsKCQlhbmltYXRpb24tZHVyYXRpb246IDUwMG1zOwoJfQogICAgI3Zhcl9zaWRlYmFyIHsKICAgICAgICBib3JkZXItd2lkdGg6IDJweDsKICAgICAgICBib3JkZXI6IGJsYWNrOwogICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIH0KCiAgICAjdmFyX2VkaXRvcnN7CiAgICAgICAgYm9yZGVyLXdpZHRoOiAxcHg7CiAgICAgICAgYm9yZGVyOiBzb2xpZCBsaWdodGdyYXk7CiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgIHBhZGRpbmc6IDVweDsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICB9CgogICAgLnZhcl9lZGl0b3J7CiAgICAgICAgcGFkZGluZzogNXB4OwogICAgfQoKICAgIHVsewogICAgICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTsKICAgIH0KCiAgICAjYWRkQnV0dG9uIHsKICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0OwogICAgfQoKICAgICNuZXdWYXIgewogICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICB9CgogICAgLmlucHV0IHsKICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgYm9yZGVyLXN0eWxlOiBzb2xpZDsKICAgICAgICBib3JkZXItY29sb3I6IGxpZ2h0Z3JheTsKICAgICAgICB3aWR0aDogMTAwJTsKICAgIH0KCiAgICBidXR0b257CiAgICAgICAgb3V0bGluZTogbm9uZTsKICAgIH0KCiAgICBAa2V5ZnJhbWVzIGJvcmRlcl9hbmltewogICAgICAgIGZyb217Ym9yZGVyOiBzb2xpZCB3aGl0ZTt9CiAgICAgICAgdG97Ym9yZGVyOnNvbGlkICNGMDVFMjM7fQoJfQoKICAgIC5zaWRlYmFyX2J1dHRvbnsKCQlib3JkZXI6IHNvbGlkIHdoaXRlOwogICAgICAgIGJvcmRlci13aWR0aDogM3B4OwoJCWJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICBwYWRkaW5nOiAycHg7Cgl9CgoJLnNpZGViYXJfYnV0dG9uOmhvdmVyewogICAgICAgIGJvcmRlci13aWR0aDogMnB4OwogICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICBwYWRkaW5nOiAycHg7CgkJYW5pbWF0aW9uOiBib3JkZXJfYW5pbTsKCQlhbmltYXRpb24tZmlsbC1tb2RlOiBmb3J3YXJkczsKCQlhbmltYXRpb24tZHVyYXRpb246IDUwMG1zOwoJfQoKICAgIC5zcGFjaW5nIHsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDVweDsKICAgIH0KCg=="},{"version":3,"sources":["Sidebar_Variables.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkLA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Sidebar_Variables.vue","sourceRoot":"src/components/editor/tools/variables","sourcesContent":["<template>\n    <div id = \"var_sidebar\">\n\n         <div id = \"header\" style = \"display:grid; grid-template-columns: 10fr 1fr; text-align:center;\">\n            <h3 style = \"padding-top: 5px;\">Text Variables</h3>\n            <v-btn icon id = \"hide\" v-on:click = \"emitDispVars\"><v-icon>{{this.hidden ? 'mdi-eye':'mdi-eye-off'}}</v-icon></v-btn>\n        </div><br>\n        \n        <div id = \"var_editors\" v-bind:key = \"this.renderKey\">\n            <var-editor class = \"var_editor\" v-for = \"(nVar, index) in this.sortedKeys\" v-bind:key = \"index\"\n                                v-bind:varName = \"nVar\" \n                                v-bind:varColor = \"storyVars.get(nVar).color\"\n                                v-bind:initVarVal = \"storyVars.get(nVar).value\" \n                                v-on:evtGetNextValue = \"emitVarValueChange\"\n                                v-on:evtDelete = \"emitVarDelete\"\n                                v-on:evtNewVarName = \"emitVarNameChange\"></var-editor>\n        </div>\n\n        <br>\n\n        <button class = \"sidebar_button\" id = \"addButton\" v-on:click = \"showAdd\"><v-icon>mdi-plus</v-icon>\n            New Variable</button>\n        <br><br>\n\n        <div v-if = \"this.add\">\n            <v-combobox outlined dense hide-details label=\"Variable Name\" v-model=\"newVarName\" placeholder=\"myVar\" :items=\"this.myVarNames\" id=\"newVarName\" @change=\"autofillVar\"></v-combobox>\n\n            <v-combobox outlined dense hide-details label=\"Value\" v-model=\"newVarValue\" placeholder=\"value\" id=\"newVarVal\" class=\"mt-4 mb-1\"></v-combobox>\n            \n            <v-tooltip bottom>\n                <template v-slot:activator=\"{ on, attrs }\">\n                    <button v-bind=\"attrs\" v-on=\"on\"\n                        class = \"sidebar_button\" id = \"cancel_new_var\"\n                        v-on:click= \"showAdd\">\n                        <v-icon>mdi-close</v-icon>\n                    </button>\n                </template>\n                <span>Cancel</span>\n            </v-tooltip>\n\n            <v-tooltip bottom>\n                <template v-slot:activator=\"{ on, attrs }\">\n                    <button v-bind=\"attrs\" v-on=\"on\"\n                        class = \"sidebar_button\" id = \"confirm_new_var\"\n                        v-on:click= \"emitNewVar\">\n                        <v-icon>mdi-check</v-icon>\n                    </button>\n                </template>\n                <span>Submit</span>\n            </v-tooltip>\n        </div>\n    </div>\n</template>\n\n<script>\n//import firebase from 'firebase'\nimport firebaseMixin from '@/mixins/firebaseMixin'\nimport Variable_Editor from \"./Variable_Editor\"\n\nexport default {\n    name: \"var-sidebar\",\n    \n    props:{\n        storyVars: Map\n    },\n\n    data() {\n        return {\n            hidden: true,\n            add: false,\n            newVarName: \"\",\n            newVarValue: \"\",\n\n            myProfile: [],\n            myVarNames: [],\n\n            renderKey: 0,\n        }\n    },\n\n    components: {    \n        'var-editor': Variable_Editor\n    },\n\n    computed:{\n        sortedKeys: function(){\n            \n            var sortedKeys = [];\n            var variables = this.storyVars;\n\n            if(variables != null){\n                variables.forEach(\n                    function(value, key){\n                        sortedKeys.push(key);\n                    }\n                );\n\n                sortedKeys = sortedKeys.sort(function(a, b){\n                    var idA = variables.get(a).id;\n                    var idB = variables.get(b).id;\n\n                    return idA - idB;\n                });\n            }\n\n            return sortedKeys;\n\t\t}\n    },\n    \n    methods: {\n        emitDispVars: function() {\n            this.hidden = !this.hidden;\n            this.$emit(\"evtDispVars\", {disp: this.hidden});\n        },\n\n        emitVarValueChange: function(event) {\n            this.$emit(\"evtVarValueChange\", event);\n        },\n\n        emitVarDelete: function(event){\n            this.$emit(\"evtDelete\", event);\n        }, \n\n        emitVarNameChange: function(event){\n            if(event.newName == \"\"){\n                alert(\"Please enter something!\");\n                return;\n            }\n\n            if(this.sortedKeys.includes(event.newName)){\n                alert(\"The variable name \" + event.newName + \" is already being used! Please pick another name.\");\n                this.renderKey++;\n\n                if(this.renderKey > 10){\n                    this.renderKey = 0;\n                }\n                return;\n            }\n\n            this.$emit(\"evtVarNameChange\", event);\n        },\n\n        showAdd: function() {\n            this.add = !this.add;\n        },\n\n        emitNewVar: function() {\n            var x = document.getElementById(\"newVarName\");\n            var y = document.getElementById(\"newVarVal\");\n            this.newVarName = x.value;\n            this.newVarValue = y.value;\n            this.add = !this.add;\n            this.$emit(\"evtNewVar\", { name: '$' + this.newVarName, value: this.newVarValue } );\n            this.newVarName = \"\";\n            this.newVarValue = \"\";\n        },\n\n        autofillVar: function() {\n            var i;\n            for (i=0; i<this.myVarNames.length; i++) {\n                if (this.newVarName === this.myVarNames[i]) {\n                    this.newVarValue = this.myProfile[i];\n                    return;\n                }\n            }\n        },\n    },\n\n    created() {\n        //this.userID = firebase.auth().currentUser.uid;\n        //this.myProfile = this.getVarVals(this.userID);\n        //this.myVarNames = this.getVarNames(this.userID);\n    },\n    mixins: [firebaseMixin]\n}\n</script>\n\n<style scoped>\n    #title{\n        display: inline-block;\n    }\n\n    .emitter{\n        display: inline-block;\n        position: absolute;\n        left: 85%;\n        top: 2%;\n    }\n\n   @keyframes border_anim{\n        from{border: solid white;        \n                border-width: 2px;\n                border-radius: 5px;\n                padding: 5px;}\n\n        to{border:solid gray;\n            border-width: 2px;\n            border-radius: 5px;\n            padding: 5px;}\n        }\n\n    .sidebar_button{\n\t\tborder: solid white;\n        border-width: 2px;\n\t\tborder-radius: 5px;\n        padding: 5px;\n\t}\n\n\t.sidebar_button:hover{\n\t\tanimation: border_anim;\n\t\tanimation-fill-mode: forwards;\n\t\tanimation-duration: 500ms;\n\t}\n    #var_sidebar {\n        border-width: 2px;\n        border: black;\n        text-align: center;\n    }\n\n    #var_editors{\n        border-width: 1px;\n        border: solid lightgray;\n        border-radius: 5px;\n        padding: 5px;\n        text-align: center;\n    }\n\n    .var_editor{\n        padding: 5px;\n    }\n\n    ul{\n        list-style-type: none;\n    }\n\n    #addButton {\n        text-align: left;\n    }\n\n    #newVar {\n        text-align: left;\n    }\n\n    .input {\n        border-radius: 5px;\n        border-style: solid;\n        border-color: lightgray;\n        width: 100%;\n    }\n\n    button{\n        outline: none;\n    }\n\n    @keyframes border_anim{\n        from{border: solid white;}\n        to{border:solid #F05E23;}\n\t}\n\n    .sidebar_button{\n\t\tborder: solid white;\n        border-width: 3px;\n\t\tborder-radius: 5px;\n        padding: 2px;\n\t}\n\n\t.sidebar_button:hover{\n        border-width: 2px;\n        border-radius: 5px;\n        padding: 2px;\n\t\tanimation: border_anim;\n\t\tanimation-fill-mode: forwards;\n\t\tanimation-duration: 500ms;\n\t}\n\n    .spacing {\n        width: 100%;\n        height: 5px;\n    }\n\n</style>"]}]}
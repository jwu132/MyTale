{"remainingRequest":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/justinwu/Desktop/Gitlab_MyTale/mytale/src/components/editor/tools/media/Upload_List.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/src/components/editor/tools/media/Upload_List.vue","mtime":1604692362838},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTaWRlYmFyX0VsZW1lbnQgZnJvbSAiLi9TaWRlYmFyX0VsZW1lbnQudnVlIgoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ3VwbG9hZC1saXN0JywKCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgJ3NpZGViYXItZWxlbWVudCc6IFNpZGViYXJfRWxlbWVudCwKICAgIH0sCgogICAgcHJvcHM6IHsKICAgICAgICBwdXJwb3NlOiBTdHJpbmcsCiAgICAgICAgdmFyTWFwOiBNYXAKICAgIH0sCgogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBpY29uOiAnbWRpLXVwbG9hZCcsCiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBuZXdGaWxlczogW10sIC8vIEZpbGUKICAgICAgICAgICAgbnVtVmFyc0VtaXR0ZWQ6IDEsCgogICAgICAgICAgICB0eXBlOiAnJywKCiAgICAgICAgICAgIHNob3dMaXN0OiB0cnVlLAoKICAgICAgICAgICAgZmlsZXNBY2NlcHRlZDogJycsCgogICAgICAgICAgICByZW5kZXJLZXk6IDEsCiAgICAgICAgfQogICAgfSwKCiAgICBjcmVhdGVkOiBmdW5jdGlvbigpIHsKICAgICAgICBpZih0aGlzLnB1cnBvc2UuaW5jbHVkZXMoIkltYWdlcyIpKSB7CiAgICAgICAgICAgIHRoaXMuaWNvbiA9ICdtZGktaW1hZ2UtYXJlYSc7CiAgICAgICAgICAgIHRoaXMuZmlsZXNBY2NlcHRlZCA9ICdpbWFnZS8qJzsKICAgICAgICAgICAgdGhpcy50eXBlID0gImltYWdlIjsKICAgICAgICB9CiAgICAgICAgaWYodGhpcy5wdXJwb3NlLmluY2x1ZGVzKCJBdWRpbyIpKSB7CiAgICAgICAgICAgIHRoaXMuaWNvbiA9ICdtZGktdm9sdW1lLWhpZ2gnCiAgICAgICAgICAgIHRoaXMuZmlsZXNBY2NlcHRlZCA9ICdhdWRpby8qJzsKICAgICAgICAgICAgdGhpcy50eXBlID0gImF1ZGlvIjsKICAgICAgICB9CiAgICB9LAoKICAgIGNvbXB1dGVkOnsKICAgICAgICBzb3J0ZWRLZXlzOiBmdW5jdGlvbigpewogICAgICAgICAgICB2YXIgc29ydGVkS2V5cyA9IFtdOwogICAgICAgICAgICB2YXIgdmFyaWFibGVzID0gdGhpcy52YXJNYXA7CgogICAgICAgICAgICBpZih2YXJpYWJsZXMgIT0gbnVsbCl7CiAgICAgICAgICAgICAgICB2YXJpYWJsZXMuZm9yRWFjaCgKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbih2YWx1ZSwga2V5KXsKICAgICAgICAgICAgICAgICAgICAgICAgc29ydGVkS2V5cy5wdXNoKGtleSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICBzb3J0ZWRLZXlzID0gc29ydGVkS2V5cy5zb3J0KGZ1bmN0aW9uKGEsIGIpewogICAgICAgICAgICAgICAgICAgIHZhciBpZEEgPSB2YXJpYWJsZXMuZ2V0KGEpLmlkOwogICAgICAgICAgICAgICAgICAgIHZhciBpZEIgPSB2YXJpYWJsZXMuZ2V0KGIpLmlkOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWRBIC0gaWRCOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBzb3J0ZWRLZXlzOwogICAgICAgIH0sCiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICBsaXN0VmlldzogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHRoaXMuc2hvd0xpc3QgPSAhdGhpcy5zaG93TGlzdDsKICAgICAgICB9LAoKICAgICAgICAvLyBldmVudDogdXBsb2FkIGV2ZW50CiAgICAgICAgZW1pdE5ld1ZhcmlhYmxlczogZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgdmFyIGZpbGVzVG9FbWl0ID0gW107CgogICAgICAgICAgICBjb25zb2xlLmxvZygiRW1pdHRpbmcgbmV3IFZhcmlhYmxlczogIiArIGV2ZW50LnRhcmdldC5maWxlcy5sZW5ndGgpOwogICAgICAgICAgICAKICAgICAgICAgICAgdmFyIGFsZXJ0VGV4dCA9ICIiOwoKICAgICAgICAgICAgZm9yKHZhciBqID0gMDsgaiA8IGV2ZW50LnRhcmdldC5maWxlcy5sZW5ndGg7IGorKyl7CgogICAgICAgICAgICAgICAgaWYoIXRoaXMuY29udGFpbnNGaWxlKGV2ZW50LnRhcmdldC5maWxlc1tqXSkpewogICAgICAgICAgICAgICAgICAgIGZpbGVzVG9FbWl0LnB1c2goZXZlbnQudGFyZ2V0LmZpbGVzW2pdKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnRUZXh0ICs9ICIgIiArIGV2ZW50LnRhcmdldC5maWxlc1tqXS5uYW1lICsgIiAiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYoYWxlcnRUZXh0Lmxlbmd0aCAhPSAwKXsKICAgICAgICAgICAgICAgIGFsZXJ0VGV4dCA9ICJZb3UgaGF2ZSBhbHJlYWR5IHVwbG9hZGVkICIgKyBhbGVydFRleHQ7CiAgICAgICAgICAgICAgICBhbGVydChhbGVydFRleHQpOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgdmFyQXJyID0gW107CgogICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgZmlsZXNUb0VtaXQubGVuZ3RoOyBpKyspewogICAgICAgICAgICAgICAgdmFyIG5ld1ZhciA9IHtuYW1lOiAiQCIrIHRoaXMudHlwZSArICgodGhpcy5udW1WYXJzRW1pdHRlZCkgKyB0aGlzLnZhck1hcC5zaXplKSwgZmlsZTogZmlsZXNUb0VtaXRbaV0sIGZpbGVOYW1lOiBmaWxlc1RvRW1pdFtpXS5uYW1lLCBwYXRoOiB7aTogVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlc1RvRW1pdFtpXSl9LCBjb2xvcjogIiIsIGlkOiAwLCB1cGxvYWRlZDogZmFsc2V9OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB3aGlsZSh0aGlzLmNvbnRhaW5zVmFyKCJAIisgdGhpcy50eXBlICsgKCh0aGlzLm51bVZhcnNFbWl0dGVkKyspICsgdGhpcy52YXJNYXAuc2l6ZSkpKXsKICAgICAgICAgICAgICAgICAgICBuZXdWYXIubmFtZSA9ICJAIisgdGhpcy50eXBlICsgKCh0aGlzLm51bVZhcnNFbWl0dGVkKSArIHRoaXMudmFyTWFwLnNpemUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXJBcnIucHVzaChuZXdWYXIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZih2YXJBcnIubGVuZ3RoID4gMCkKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoImV2dE5ld01lZGlhVmFyaWFibGVzIiwgdmFyQXJyKTsKICAgICAgICB9LAoKICAgICAgICAvLyBldmVudDoge25hbWUsIGZpbGVOYW1lfQogICAgICAgIGFkZEVsZW1lbnQ6IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoImV2dEFkZCIsIGV2ZW50KTsKICAgICAgICB9LAoKICAgICAgICAvLyBldmVudDoge25hbWUsIGZpbGVOYW1lfQogICAgICAgIHJlbW92ZUVsZW1lbnQ6IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJEZWxldGluZzogIiArIEpTT04uc3RyaW5naWZ5KGV2ZW50KSk7CiAgICAgICAgICAgIHZhciBmaWxlID0gdGhpcy52YXJNYXAuZ2V0KGV2ZW50Lm5hbWUpOwoKICAgICAgICAgICAgdGhpcy4kZW1pdCgiZXZ0RGVsZXRlIiwge25hbWU6IGV2ZW50Lm5hbWUsIGZpbGVOYW1lOiBldmVudC5maWxlTmFtZSwgZmlsZTogZmlsZX0pOwogICAgICAgIH0sCgogICAgICAgIC8vIGV2ZW50OiB7cHJldk5hbWUsIG5ld05hbWV9CiAgICAgICAgdXBkYXRlVmFyTmFtZTogZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgLy8gZW5zdXJlIG5ld1Zhck5hbWUgaXMgbm90IGFscmVhZHkgaW4gdXNlCiAgICAgICAgICAgIGlmKGV2ZW50LnByZXZOYW1lID09IGV2ZW50Lm5ld05hbWUpewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZihldmVudC5uZXdOYW1lID09ICIiKXsKICAgICAgICAgICAgICAgIGFsZXJ0KCJQbGVhc2UgZW50ZXIgc29tZXRoaW5nISIpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZih0aGlzLmNvbnRhaW5zVmFyKGV2ZW50Lm5ld05hbWUpKSB7CiAgICAgICAgICAgICAgICBhbGVydCgiVGhlIHZhcmlhYmxlIG5hbWUgIiArIGV2ZW50Lm5ld05hbWUgKyAiIGlzIGFscmVhZHkgYmVpbmcgdXNlZCEgUGxlYXNlIHBpY2sgYW5vdGhlciBuYW1lLiIpOwogICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJLZXkrKzsKCiAgICAgICAgICAgICAgICBpZih0aGlzLnJlbmRlcktleSA+IDEwKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcktleSA9IDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuJGVtaXQoImV2dE5ld1Zhck5hbWUiLCBldmVudCk7CiAgICAgICAgfSwKCiAgICAgICAgLy8gZXZlbnQ6IHtuYW1lLCBvbGRGaWxlTmFtZSwgbmV3RmlsZX0KICAgICAgICByZXBsYWNlRmlsZTogZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgdmFyIG5ld0ZpbGUgPSBldmVudC5uZXdGaWxlOwogICAgICAgICAgICB2YXIgb2xkRGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy52YXJNYXAuZ2V0KGV2ZW50Lm5hbWUpKSk7CgogICAgICAgICAgICAvLyBlbnN1cmUgZmlsZSBoYXMgbm90IGFscmVhZHkgYmVlbiB1cGxvYWRlZAogICAgICAgICAgICBpZih0aGlzLmNvbnRhaW5zRmlsZShuZXdGaWxlKSkgewogICAgICAgICAgICAgICAgYWxlcnQoIllvdSd2ZSBhbHJlYWR5IHVwbG9hZGVkICIgKyBuZXdGaWxlLm5hbWUgKyAiISIpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMudmFyTWFwLmdldChldmVudC5uYW1lKTsKCiAgICAgICAgICAgIGRhdGEuZmlsZSA9IGV2ZW50Lm5ld0ZpbGU7CiAgICAgICAgICAgIGRhdGEuZmlsZU5hbWUgPSBldmVudC5uZXdGaWxlLm5hbWU7CgoKICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChkYXRhLnBhdGguaSk7CgogICAgICAgICAgICBkYXRhLnBhdGggPSB7aTogVVJMLmNyZWF0ZU9iamVjdFVSTChldmVudC5uZXdGaWxlKX07CgogICAgICAgICAgICB0aGlzLiRlbWl0KCJldnRSZXBsYWNlRmlsZSIsIHtuYW1lOiBldmVudC5uYW1lLCBvbGREYXRhOiBvbGREYXRhLCBkYXRhOiBkYXRhfSk7CiAgICAgICAgfSwKCiAgICAgICAgY29udGFpbnNGaWxlOiBmdW5jdGlvbihmaWxlKSB7CiAgICAgICAgICAgIHZhciByZXQgPSBmYWxzZTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHRoaXMudmFyTWFwLmZvckVhY2goZnVuY3Rpb24oZGF0YSl7CiAgICAgICAgICAgICAgIGlmKGRhdGEuZmlsZU5hbWUgPT0gZmlsZS5uYW1lKXsKICAgICAgICAgICAgICAgICAgIHJldCA9IHRydWU7CiAgICAgICAgICAgICAgIH0gCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgcmV0dXJuIHJldDsKICAgICAgICB9LAoKICAgICAgICBjb250YWluc1ZhcjogZnVuY3Rpb24odmFyTmFtZSl7CiAgICAgICAgICAgIHZhciByZXQgPSBmYWxzZTsKCiAgICAgICAgICAgIHRoaXMudmFyTWFwLmZvckVhY2goZnVuY3Rpb24oZGF0YSwga2V5KXsKICAgICAgICAgICAgICAgaWYoa2V5ID09IHZhck5hbWUpewogICAgICAgICAgICAgICAgICAgcmV0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["Upload_List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Upload_List.vue","sourceRoot":"src/components/editor/tools/media","sourcesContent":["<template>\n    <div id = \"upload_list\">\n        <div id = \"flex_div\">\n            <button id = \"list_view\" class = \"sidebar_button\" v-on:click = \"listView\">{{this.purpose}}\n                <v-icon>{{this.showList ? \"mdi-chevron-down\": \"mdi-chevron-right\"}}</v-icon>\n            </button>\n\n            <label id = \"upload_btn\" class = \"sidebar_button\">Upload {{this.purpose}}   <v-icon>{{this.icon}}</v-icon>\n                <input type=\"file\" @change = \"emitNewVariables\" multiple :accept = \"this.filesAccepted\">  \n            </label>\n        </div>\n\n        <div v-if = \"this.showList\" id = \"list_div\" style = \"padding-top: 5px; padding-bottom: 5px;\" :key = \"renderKey\">\n            <label v-if = \"this.varMap.size==0\">No Uploaded Files</label>\n            <sidebar-element class = \"list_element\" v-for = \"(key, index) in this.sortedKeys\" :key = \"index\"\n                v-bind:fileName = \"varMap.get(key).fileName\" v-bind:variableName = \"key\"\n                v-bind:type = \"type\"\n                v-bind:varColor = \"varMap.get(key).color\"\n                v-on:evtAdd = \"addElement\" v-on:evtDelete = \"removeElement\"\n                v-on:evtNewVarName = \"updateVarName\" v-on:evtReplaceFile = \"replaceFile\">\n            </sidebar-element>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Sidebar_Element from \"./Sidebar_Element.vue\"\n\nexport default {\n    name: 'upload-list',\n\n    components: {\n        'sidebar-element': Sidebar_Element,\n    },\n\n    props: {\n        purpose: String,\n        varMap: Map\n    },\n\n    data() {\n        return {\n            icon: 'mdi-upload',\n            \n            // newFiles: [], // File\n            numVarsEmitted: 1,\n\n            type: '',\n\n            showList: true,\n\n            filesAccepted: '',\n\n            renderKey: 1,\n        }\n    },\n\n    created: function() {\n        if(this.purpose.includes(\"Images\")) {\n            this.icon = 'mdi-image-area';\n            this.filesAccepted = 'image/*';\n            this.type = \"image\";\n        }\n        if(this.purpose.includes(\"Audio\")) {\n            this.icon = 'mdi-volume-high'\n            this.filesAccepted = 'audio/*';\n            this.type = \"audio\";\n        }\n    },\n\n    computed:{\n        sortedKeys: function(){\n            var sortedKeys = [];\n            var variables = this.varMap;\n\n            if(variables != null){\n                variables.forEach(\n                    function(value, key){\n                        sortedKeys.push(key);\n                    }\n                );\n\n                sortedKeys = sortedKeys.sort(function(a, b){\n                    var idA = variables.get(a).id;\n                    var idB = variables.get(b).id;\n\n                    return idA - idB;\n                });\n            }\n\n            return sortedKeys;\n        },\n    },\n\n    methods: {\n        listView: function() {\n            this.showList = !this.showList;\n        },\n\n        // event: upload event\n        emitNewVariables: function(event) {\n            var filesToEmit = [];\n\n            console.log(\"Emitting new Variables: \" + event.target.files.length);\n            \n            var alertText = \"\";\n\n            for(var j = 0; j < event.target.files.length; j++){\n\n                if(!this.containsFile(event.target.files[j])){\n                    filesToEmit.push(event.target.files[j]);\n                } else {\n                    alertText += \" \" + event.target.files[j].name + \" \";\n                }\n            \n            }\n\n            if(alertText.length != 0){\n                alertText = \"You have already uploaded \" + alertText;\n                alert(alertText);\n            }\n\n            var varArr = [];\n\n            for(var i = 0; i < filesToEmit.length; i++){\n                var newVar = {name: \"@\"+ this.type + ((this.numVarsEmitted) + this.varMap.size), file: filesToEmit[i], fileName: filesToEmit[i].name, path: {i: URL.createObjectURL(filesToEmit[i])}, color: \"\", id: 0, uploaded: false};\n                \n                while(this.containsVar(\"@\"+ this.type + ((this.numVarsEmitted++) + this.varMap.size))){\n                    newVar.name = \"@\"+ this.type + ((this.numVarsEmitted) + this.varMap.size);\n                }\n                \n                varArr.push(newVar);\n            }\n\n            if(varArr.length > 0)\n                this.$emit(\"evtNewMediaVariables\", varArr);\n        },\n\n        // event: {name, fileName}\n        addElement: function(event) {\n            this.$emit(\"evtAdd\", event);\n        },\n\n        // event: {name, fileName}\n        removeElement: function(event) {\n            console.log(\"Deleting: \" + JSON.stringify(event));\n            var file = this.varMap.get(event.name);\n\n            this.$emit(\"evtDelete\", {name: event.name, fileName: event.fileName, file: file});\n        },\n\n        // event: {prevName, newName}\n        updateVarName: function(event) {\n            // ensure newVarName is not already in use\n            if(event.prevName == event.newName){\n                return;\n            }\n\n            if(event.newName == \"\"){\n                alert(\"Please enter something!\");\n                return;\n            }\n\n            if(this.containsVar(event.newName)) {\n                alert(\"The variable name \" + event.newName + \" is already being used! Please pick another name.\");\n                this.renderKey++;\n\n                if(this.renderKey > 10){\n                    this.renderKey = 0;\n                }\n                return;\n            }\n\n            this.$emit(\"evtNewVarName\", event);\n        },\n\n        // event: {name, oldFileName, newFile}\n        replaceFile: function(event) {\n            var newFile = event.newFile;\n            var oldData = JSON.parse(JSON.stringify(this.varMap.get(event.name)));\n\n            // ensure file has not already been uploaded\n            if(this.containsFile(newFile)) {\n                alert(\"You've already uploaded \" + newFile.name + \"!\");\n                return;\n            }\n\n            var data = this.varMap.get(event.name);\n\n            data.file = event.newFile;\n            data.fileName = event.newFile.name;\n\n\n            URL.revokeObjectURL(data.path.i);\n\n            data.path = {i: URL.createObjectURL(event.newFile)};\n\n            this.$emit(\"evtReplaceFile\", {name: event.name, oldData: oldData, data: data});\n        },\n\n        containsFile: function(file) {\n            var ret = false;\n            \n            this.varMap.forEach(function(data){\n               if(data.fileName == file.name){\n                   ret = true;\n               } \n            });\n\n            return ret;\n        },\n\n        containsVar: function(varName){\n            var ret = false;\n\n            this.varMap.forEach(function(data, key){\n               if(key == varName){\n                   ret = true;\n               } \n            });\n\n            return ret;\n        }\n    }\n}\n</script>\n\n<style scoped>\n    #upload_list{\n        display: block;\n        border: solid lightgray;\n        border-radius: 5px;\n        border-width: 2px;\n    }\n\n    #flex_div{\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        \n    }\n\n    #list_div{\n        display: flex;\n        flex-direction: column;\n        border: solid lightgray;\n        border-radius: 5px;\n        border-width: 1px;\n    }\n\n    #list{\n        text-align: center;\n    }\n\n    #list_view{\n        width: 40%;\n    }\n\n    input[type=\"file\"] {\n        display: none;\n    }\n\n    button{\n        outline: none;\n    }\n\n    ul{\n        list-style: none;\n        text-align: center;\n    }\n\n    #upload_btn {\n        cursor: pointer;\n    }\n\n\t@keyframes border_anim{\n        from{border: solid white;        \n                border-width: 2px;\n                border-radius: 5px;\n                padding: 5px;}\n\n        to{border:solid gray;\n            border-width: 2px;\n            border-radius: 5px;\n            padding: 5px;}\n        }\n\n    .sidebar_button{\n\t\tborder: solid white;\n        border-width: 2px;\n\t\tborder-radius: 5px;\n        padding: 5px;\n\t}\n\n\t.sidebar_button:hover{\n\t\tanimation: border_anim;\n\t\tanimation-fill-mode: forwards;\n\t\tanimation-duration: 500ms;\n\t}\n\n</style>"]}]}
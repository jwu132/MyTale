{"remainingRequest":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/justinwu/Desktop/story_personalization_system/src/components/editor/text/Text_Tiptap.vue?vue&type=style&index=0&id=93067fcc&scoped=true&lang=css&","dependencies":[{"path":"/Users/justinwu/Desktop/story_personalization_system/src/components/editor/text/Text_Tiptap.vue","mtime":1604692362837},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAa2V5ZnJhbWVzIGJvcmRlcl9hbmltIHsKICBmcm9tIHsKICAgIGJvcmRlcjogc29saWQgZ3JheTsKICB9CiAgdG8gewogICAgYm9yZGVyOiBzb2xpZCBibGFjazsKICB9Cn0KCiNlZGl0b3JTdHlsZXsKICBib3JkZXI6c29saWQgbGlnaHRncmF5OwogIGJvcmRlci10b3A6IHNvbGlkIHdoaXRlOwogIGJvcmRlci13aWR0aDogMnB4OwogIGJhY2tncm91bmQ6IAl3aGl0ZTsKICBvdXRsaW5lOm5vbmU7CiAgcGFkZGluZzogMTBweDsKfQoKLm1lbnViYXIgewogIGJvcmRlcjpzb2xpZCBsaWdodGdyZXk7CiAgYm9yZGVyLXdpZHRoOiAycHg7CiAgYmFja2dyb3VuZDogd2hpdGVzbW9rZTsKfQoKLm1lbnViYXJfX2J1dHRvbiB7CiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgY29sb3I6IGJsYWNrOwogIHBhZGRpbmc6IDJweCAycHg7CiAgZm9udC1zaXplOiAyMHB4OwogIGhlaWdodDogNTAlOwogIGJvcmRlcjogbGlnaHRncmV5Owp9Cgouc3BhY2luZyB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxNXB4Owp9CgouZGl2aWRlciB7CiAgd2lkdGg6IDEwcHg7CiAgaGVpZ2h0OiBhdXRvOwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKfQoKLmVkaXRvcl9idXR0b24gewogIGFsaWduLWNvbnRlbnQ6IGxlZnQ7CiAgYm9yZGVyOiBzb2xpZCB3aGl0ZTsKICBib3JkZXItd2lkdGg6IDVweDsKICBib3JkZXItcmFkaXVzOiA1cHg7Cn0KCi5lZGl0b3JfYnV0dG9uOmhvdmVyIHsKICBib3JkZXItd2lkdGg6IDVweDsKICBib3JkZXItcmFkaXVzOiA1cHg7CiAgYW5pbWF0aW9uOiBib3JkZXJfYW5pbTsKICBhbmltYXRpb24tZmlsbC1tb2RlOiBmb3J3YXJkczsKICBhbmltYXRpb24tZHVyYXRpb246IDUwMG1zOwp9Cg=="},{"version":3,"sources":["Text_Tiptap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Text_Tiptap.vue","sourceRoot":"src/components/editor/text","sourcesContent":["<template>\n  <div class=\"editor\">\n    <editor-menu-bar :editor=\"editor\" v-slot=\"{ commands, isActive, focused }\">\n      <div\n        class=\"menubar\"\n        :class=\"{ 'is-active': focused }\"\n      >\n\n        <button\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.bold() }\"\n          @click=\"commands.bold\"\n        >\n          <v-icon class=\"icon\">mdi-format-bold</v-icon>\n        </button>\n\n        <div class=\"divider\" />\n\n        <button\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.italic() }\"\n          @click=\"commands.italic\"\n        >\n          <v-icon>mdi-format-italic</v-icon>\n        </button>\n\n        <div class=\"divider\" />\n\n        <button\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.strike() }\"\n          @click=\"commands.strike\"\n        >\n          <v-icon>mdi-format-strikethrough-variant</v-icon>\n        </button>\n\n        <div class=\"divider\" />\n\n        <button\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.underline() }\"\n          @click=\"commands.underline\"\n        >\n          <v-icon>mdi-format-underline</v-icon>\n        </button>\n\n        <div class=\"divider\" />\n\n        <button\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.heading({ level: 1 }) }\"\n          @click=\"commands.heading({ level: 1 })\"\n        >\n          <v-icon>mdi-format-header-1</v-icon>\n        </button>\n\n        <div class=\"divider\" />\n\n        <button\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.heading({ level: 2 }) }\"\n          @click=\"commands.heading({ level: 2 })\"\n        >\n          <v-icon>mdi-format-header-2</v-icon>\n        </button>\n\n        <div class=\"divider\" />\n\n        <button\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.heading({ level: 3 }) }\"\n          @click=\"commands.heading({ level: 3 })\"\n        >\n          <v-icon>mdi-format-header-3</v-icon>\n        </button>\n\n        <div class=\"divider\" />\n\n        <button\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.bullet_list() }\"\n          @click=\"commands.bullet_list\"\n        >\n          <v-icon>mdi-format-list-bulleted</v-icon>\n        </button>\n\n        <div class=\"divider\" />\n\n        <button\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.ordered_list() }\"\n          @click=\"commands.ordered_list\"\n        >\n          <v-icon>mdi-format-list-numbers</v-icon>\n        </button>\n      </div>\n    </editor-menu-bar>\n\n    <editor-content id = \"editorStyle\" class=\"editor_content\" :editor=\"editor\" />\n\n    <div class=\"spacing\" />\n\n    <v-btn id=\"done_button\" v-on:click = \"emitEdit(); switchEdit();\">{{ this.saveStatus == \"Saved!\" ? \"Done\" : \"Saving...\"}}</v-btn>\n  </div>\n</template>\n\n<script>\nimport Editor from \"@/js/tiptap/packages/tiptap/src/Editor.js\";\nimport EditorContent from \"@/js/tiptap/packages/tiptap/src/Components/EditorContent.js\";\nimport EditorMenuBar from \"@/js/tiptap/packages/tiptap/src/Components/EditorMenuBar.js\";\n// import EditorMenuBubble from '@/js/tiptap/packages/tiptap/src/Components/EditorMenuBubble.js'\n\nimport Blockquote from \"@/js/tiptap/packages/tiptap-extensions/src/nodes/Blockquote.js\";\nimport BulletList from \"@/js/tiptap/packages/tiptap-extensions/src/nodes/BulletList.js\";\nimport HardBreak from \"@/js/tiptap/packages/tiptap-extensions/src/nodes/HardBreak.js\";\nimport Heading from \"@/js/tiptap/packages/tiptap-extensions/src/nodes/Heading.js\";\nimport ListItem from \"@/js/tiptap/packages/tiptap-extensions/src/nodes/ListItem.js\";\nimport OrderedList from \"@/js/tiptap/packages/tiptap-extensions/src/nodes/OrderedList.js\";\nimport Bold from \"@/js/tiptap/packages/tiptap-extensions/src/marks/Bold.js\";\nimport Italic from \"@/js/tiptap/packages/tiptap-extensions/src/marks/Italic.js\";\nimport Strike from \"@/js/tiptap/packages/tiptap-extensions/src/marks/Strike.js\";\nimport Underline from \"@/js/tiptap/packages/tiptap-extensions/src/marks/Underline.js\";\nimport FontTextColor from \"@/js/tiptap/packages/tiptap-extensions/src/marks/FontTextColor.js\";\n\nimport debounce from 'debounce'\n\nexport default {\n  name: \"text-tiptap\",\n\n  components: {\n    EditorContent,\n    EditorMenuBar\n    // EditorMenuBubble,\n  },\n\n  props: {\n    text: String\n  },\n\n  data() {\n    return {\n      passageText: this.text,\n      saveStatus: \"Saved!\",\n      isTyping: false,\n\n      editor: new Editor({\n        extensions: [\n          new Blockquote(),\n          new BulletList(),\n          new HardBreak(),\n          new Heading({ levels: [1, 2, 3] }),\n          new ListItem(),\n          new OrderedList(),\n          new Bold(),\n          new Italic(),\n          new Strike(),\n          new Underline(),\n          new FontTextColor()\n        ],\n        content: this.text\n      })\n    };\n  },\n  beforeDestroy() {\n    this.emitEdit();\n\n    this.editor.destroy();\n  },\n\n  computed: {\n    editing: function() {\n      return this.editor.focused;\n    },\n\n    html: function() {\n      return this.editor.getHTML();\n    }\n  },\n\n  watch: {\n    editing: function() {\n      if (this.editing) {\n        this.saveStatus = \"Saving...\";\n        this.isTyping = true;\n      }\n      if (!this.editing) {\n        this.saveStatus = \"Saving...\";\n        setTimeout(() => {\n          this.isTyping = false;\n          this.saveStatus = \"Saved!\";\n        }, 500);\n      }\n      if (!this.editing && !this.isTyping) {\n        this.saveStatus = \"Saved!\";\n        this.isTyping = false;\n        this.stashEdit();\n      }\n    },\n\n    html: debounce(function(){\n      this.isTyping = false;\n      this.stashEdit();\n      this.saveStatus = \"Saved!\"\n    }, 500)\n\n  },\n\n  methods: {\n    emitEdit: function() {\n      this.passageText = this.editor.getHTML();\n      // console.log(\"Saving...\");\n      this.$emit(\"evtPassageChange\", this.passageText);\n      this.saveStatus = \"Saved!\";\n    },\n\n    stashEdit: function(){\n      this.passageText = this.editor.getHTML();\n    },\n\n    switchEdit: function() {\n      this.$emit(\"switchEdit\", false);\n    }\n  }\n};\n</script>\n\n<style scoped>\n@keyframes border_anim {\n  from {\n    border: solid gray;\n  }\n  to {\n    border: solid black;\n  }\n}\n\n#editorStyle{\n  border:solid lightgray;\n  border-top: solid white;\n  border-width: 2px;\n  background: \twhite;\n  outline:none;\n  padding: 10px;\n}\n\n.menubar {\n  border:solid lightgrey;\n  border-width: 2px;\n  background: whitesmoke;\n}\n\n.menubar__button {\n  background-color: transparent;\n  color: black;\n  padding: 2px 2px;\n  font-size: 20px;\n  height: 50%;\n  border: lightgrey;\n}\n\n.spacing {\n  width: 100%;\n  height: 15px;\n}\n\n.divider {\n  width: 10px;\n  height: auto;\n  display: inline-block;\n}\n\n.editor_button {\n  align-content: left;\n  border: solid white;\n  border-width: 5px;\n  border-radius: 5px;\n}\n\n.editor_button:hover {\n  border-width: 5px;\n  border-radius: 5px;\n  animation: border_anim;\n  animation-fill-mode: forwards;\n  animation-duration: 500ms;\n}\n</style>\n"]}]}
{"remainingRequest":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/justinwu/Desktop/Gitlab_MyTale/mytale/src/components/editor/text/Text_Tiptap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/src/components/editor/text/Text_Tiptap.vue","mtime":1604692362837},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBFZGl0b3IgZnJvbSAiQC9qcy90aXB0YXAvcGFja2FnZXMvdGlwdGFwL3NyYy9FZGl0b3IuanMiOwppbXBvcnQgRWRpdG9yQ29udGVudCBmcm9tICJAL2pzL3RpcHRhcC9wYWNrYWdlcy90aXB0YXAvc3JjL0NvbXBvbmVudHMvRWRpdG9yQ29udGVudC5qcyI7CmltcG9ydCBFZGl0b3JNZW51QmFyIGZyb20gIkAvanMvdGlwdGFwL3BhY2thZ2VzL3RpcHRhcC9zcmMvQ29tcG9uZW50cy9FZGl0b3JNZW51QmFyLmpzIjsKLy8gaW1wb3J0IEVkaXRvck1lbnVCdWJibGUgZnJvbSAnQC9qcy90aXB0YXAvcGFja2FnZXMvdGlwdGFwL3NyYy9Db21wb25lbnRzL0VkaXRvck1lbnVCdWJibGUuanMnCgppbXBvcnQgQmxvY2txdW90ZSBmcm9tICJAL2pzL3RpcHRhcC9wYWNrYWdlcy90aXB0YXAtZXh0ZW5zaW9ucy9zcmMvbm9kZXMvQmxvY2txdW90ZS5qcyI7CmltcG9ydCBCdWxsZXRMaXN0IGZyb20gIkAvanMvdGlwdGFwL3BhY2thZ2VzL3RpcHRhcC1leHRlbnNpb25zL3NyYy9ub2Rlcy9CdWxsZXRMaXN0LmpzIjsKaW1wb3J0IEhhcmRCcmVhayBmcm9tICJAL2pzL3RpcHRhcC9wYWNrYWdlcy90aXB0YXAtZXh0ZW5zaW9ucy9zcmMvbm9kZXMvSGFyZEJyZWFrLmpzIjsKaW1wb3J0IEhlYWRpbmcgZnJvbSAiQC9qcy90aXB0YXAvcGFja2FnZXMvdGlwdGFwLWV4dGVuc2lvbnMvc3JjL25vZGVzL0hlYWRpbmcuanMiOwppbXBvcnQgTGlzdEl0ZW0gZnJvbSAiQC9qcy90aXB0YXAvcGFja2FnZXMvdGlwdGFwLWV4dGVuc2lvbnMvc3JjL25vZGVzL0xpc3RJdGVtLmpzIjsKaW1wb3J0IE9yZGVyZWRMaXN0IGZyb20gIkAvanMvdGlwdGFwL3BhY2thZ2VzL3RpcHRhcC1leHRlbnNpb25zL3NyYy9ub2Rlcy9PcmRlcmVkTGlzdC5qcyI7CmltcG9ydCBCb2xkIGZyb20gIkAvanMvdGlwdGFwL3BhY2thZ2VzL3RpcHRhcC1leHRlbnNpb25zL3NyYy9tYXJrcy9Cb2xkLmpzIjsKaW1wb3J0IEl0YWxpYyBmcm9tICJAL2pzL3RpcHRhcC9wYWNrYWdlcy90aXB0YXAtZXh0ZW5zaW9ucy9zcmMvbWFya3MvSXRhbGljLmpzIjsKaW1wb3J0IFN0cmlrZSBmcm9tICJAL2pzL3RpcHRhcC9wYWNrYWdlcy90aXB0YXAtZXh0ZW5zaW9ucy9zcmMvbWFya3MvU3RyaWtlLmpzIjsKaW1wb3J0IFVuZGVybGluZSBmcm9tICJAL2pzL3RpcHRhcC9wYWNrYWdlcy90aXB0YXAtZXh0ZW5zaW9ucy9zcmMvbWFya3MvVW5kZXJsaW5lLmpzIjsKaW1wb3J0IEZvbnRUZXh0Q29sb3IgZnJvbSAiQC9qcy90aXB0YXAvcGFja2FnZXMvdGlwdGFwLWV4dGVuc2lvbnMvc3JjL21hcmtzL0ZvbnRUZXh0Q29sb3IuanMiOwoKaW1wb3J0IGRlYm91bmNlIGZyb20gJ2RlYm91bmNlJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ0ZXh0LXRpcHRhcCIsCgogIGNvbXBvbmVudHM6IHsKICAgIEVkaXRvckNvbnRlbnQsCiAgICBFZGl0b3JNZW51QmFyCiAgICAvLyBFZGl0b3JNZW51QnViYmxlLAogIH0sCgogIHByb3BzOiB7CiAgICB0ZXh0OiBTdHJpbmcKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFzc2FnZVRleHQ6IHRoaXMudGV4dCwKICAgICAgc2F2ZVN0YXR1czogIlNhdmVkISIsCiAgICAgIGlzVHlwaW5nOiBmYWxzZSwKCiAgICAgIGVkaXRvcjogbmV3IEVkaXRvcih7CiAgICAgICAgZXh0ZW5zaW9uczogWwogICAgICAgICAgbmV3IEJsb2NrcXVvdGUoKSwKICAgICAgICAgIG5ldyBCdWxsZXRMaXN0KCksCiAgICAgICAgICBuZXcgSGFyZEJyZWFrKCksCiAgICAgICAgICBuZXcgSGVhZGluZyh7IGxldmVsczogWzEsIDIsIDNdIH0pLAogICAgICAgICAgbmV3IExpc3RJdGVtKCksCiAgICAgICAgICBuZXcgT3JkZXJlZExpc3QoKSwKICAgICAgICAgIG5ldyBCb2xkKCksCiAgICAgICAgICBuZXcgSXRhbGljKCksCiAgICAgICAgICBuZXcgU3RyaWtlKCksCiAgICAgICAgICBuZXcgVW5kZXJsaW5lKCksCiAgICAgICAgICBuZXcgRm9udFRleHRDb2xvcigpCiAgICAgICAgXSwKICAgICAgICBjb250ZW50OiB0aGlzLnRleHQKICAgICAgfSkKICAgIH07CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5lbWl0RWRpdCgpOwoKICAgIHRoaXMuZWRpdG9yLmRlc3Ryb3koKTsKICB9LAoKICBjb21wdXRlZDogewogICAgZWRpdGluZzogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmVkaXRvci5mb2N1c2VkOwogICAgfSwKCiAgICBodG1sOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuZWRpdG9yLmdldEhUTUwoKTsKICAgIH0KICB9LAoKICB3YXRjaDogewogICAgZWRpdGluZzogZnVuY3Rpb24oKSB7CiAgICAgIGlmICh0aGlzLmVkaXRpbmcpIHsKICAgICAgICB0aGlzLnNhdmVTdGF0dXMgPSAiU2F2aW5nLi4uIjsKICAgICAgICB0aGlzLmlzVHlwaW5nID0gdHJ1ZTsKICAgICAgfQogICAgICBpZiAoIXRoaXMuZWRpdGluZykgewogICAgICAgIHRoaXMuc2F2ZVN0YXR1cyA9ICJTYXZpbmcuLi4iOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy5pc1R5cGluZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy5zYXZlU3RhdHVzID0gIlNhdmVkISI7CiAgICAgICAgfSwgNTAwKTsKICAgICAgfQogICAgICBpZiAoIXRoaXMuZWRpdGluZyAmJiAhdGhpcy5pc1R5cGluZykgewogICAgICAgIHRoaXMuc2F2ZVN0YXR1cyA9ICJTYXZlZCEiOwogICAgICAgIHRoaXMuaXNUeXBpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLnN0YXNoRWRpdCgpOwogICAgICB9CiAgICB9LAoKICAgIGh0bWw6IGRlYm91bmNlKGZ1bmN0aW9uKCl7CiAgICAgIHRoaXMuaXNUeXBpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5zdGFzaEVkaXQoKTsKICAgICAgdGhpcy5zYXZlU3RhdHVzID0gIlNhdmVkISIKICAgIH0sIDUwMCkKCiAgfSwKCiAgbWV0aG9kczogewogICAgZW1pdEVkaXQ6IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLnBhc3NhZ2VUZXh0ID0gdGhpcy5lZGl0b3IuZ2V0SFRNTCgpOwogICAgICAvLyBjb25zb2xlLmxvZygiU2F2aW5nLi4uIik7CiAgICAgIHRoaXMuJGVtaXQoImV2dFBhc3NhZ2VDaGFuZ2UiLCB0aGlzLnBhc3NhZ2VUZXh0KTsKICAgICAgdGhpcy5zYXZlU3RhdHVzID0gIlNhdmVkISI7CiAgICB9LAoKICAgIHN0YXNoRWRpdDogZnVuY3Rpb24oKXsKICAgICAgdGhpcy5wYXNzYWdlVGV4dCA9IHRoaXMuZWRpdG9yLmdldEhUTUwoKTsKICAgIH0sCgogICAgc3dpdGNoRWRpdDogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuJGVtaXQoInN3aXRjaEVkaXQiLCBmYWxzZSk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Text_Tiptap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Text_Tiptap.vue","sourceRoot":"src/components/editor/text","sourcesContent":["<template>\n  <div class=\"editor\">\n    <editor-menu-bar :editor=\"editor\" v-slot=\"{ commands, isActive, focused }\">\n      <div\n        class=\"menubar\"\n        :class=\"{ 'is-active': focused }\"\n      >\n\n        <button\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.bold() }\"\n          @click=\"commands.bold\"\n        >\n          <v-icon class=\"icon\">mdi-format-bold</v-icon>\n        </button>\n\n        <div class=\"divider\" />\n\n        <button\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.italic() }\"\n          @click=\"commands.italic\"\n        >\n          <v-icon>mdi-format-italic</v-icon>\n        </button>\n\n        <div class=\"divider\" />\n\n        <button\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.strike() }\"\n          @click=\"commands.strike\"\n        >\n          <v-icon>mdi-format-strikethrough-variant</v-icon>\n        </button>\n\n        <div class=\"divider\" />\n\n        <button\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.underline() }\"\n          @click=\"commands.underline\"\n        >\n          <v-icon>mdi-format-underline</v-icon>\n        </button>\n\n        <div class=\"divider\" />\n\n        <button\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.heading({ level: 1 }) }\"\n          @click=\"commands.heading({ level: 1 })\"\n        >\n          <v-icon>mdi-format-header-1</v-icon>\n        </button>\n\n        <div class=\"divider\" />\n\n        <button\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.heading({ level: 2 }) }\"\n          @click=\"commands.heading({ level: 2 })\"\n        >\n          <v-icon>mdi-format-header-2</v-icon>\n        </button>\n\n        <div class=\"divider\" />\n\n        <button\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.heading({ level: 3 }) }\"\n          @click=\"commands.heading({ level: 3 })\"\n        >\n          <v-icon>mdi-format-header-3</v-icon>\n        </button>\n\n        <div class=\"divider\" />\n\n        <button\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.bullet_list() }\"\n          @click=\"commands.bullet_list\"\n        >\n          <v-icon>mdi-format-list-bulleted</v-icon>\n        </button>\n\n        <div class=\"divider\" />\n\n        <button\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.ordered_list() }\"\n          @click=\"commands.ordered_list\"\n        >\n          <v-icon>mdi-format-list-numbers</v-icon>\n        </button>\n      </div>\n    </editor-menu-bar>\n\n    <editor-content id = \"editorStyle\" class=\"editor_content\" :editor=\"editor\" />\n\n    <div class=\"spacing\" />\n\n    <v-btn id=\"done_button\" v-on:click = \"emitEdit(); switchEdit();\">{{ this.saveStatus == \"Saved!\" ? \"Done\" : \"Saving...\"}}</v-btn>\n  </div>\n</template>\n\n<script>\nimport Editor from \"@/js/tiptap/packages/tiptap/src/Editor.js\";\nimport EditorContent from \"@/js/tiptap/packages/tiptap/src/Components/EditorContent.js\";\nimport EditorMenuBar from \"@/js/tiptap/packages/tiptap/src/Components/EditorMenuBar.js\";\n// import EditorMenuBubble from '@/js/tiptap/packages/tiptap/src/Components/EditorMenuBubble.js'\n\nimport Blockquote from \"@/js/tiptap/packages/tiptap-extensions/src/nodes/Blockquote.js\";\nimport BulletList from \"@/js/tiptap/packages/tiptap-extensions/src/nodes/BulletList.js\";\nimport HardBreak from \"@/js/tiptap/packages/tiptap-extensions/src/nodes/HardBreak.js\";\nimport Heading from \"@/js/tiptap/packages/tiptap-extensions/src/nodes/Heading.js\";\nimport ListItem from \"@/js/tiptap/packages/tiptap-extensions/src/nodes/ListItem.js\";\nimport OrderedList from \"@/js/tiptap/packages/tiptap-extensions/src/nodes/OrderedList.js\";\nimport Bold from \"@/js/tiptap/packages/tiptap-extensions/src/marks/Bold.js\";\nimport Italic from \"@/js/tiptap/packages/tiptap-extensions/src/marks/Italic.js\";\nimport Strike from \"@/js/tiptap/packages/tiptap-extensions/src/marks/Strike.js\";\nimport Underline from \"@/js/tiptap/packages/tiptap-extensions/src/marks/Underline.js\";\nimport FontTextColor from \"@/js/tiptap/packages/tiptap-extensions/src/marks/FontTextColor.js\";\n\nimport debounce from 'debounce'\n\nexport default {\n  name: \"text-tiptap\",\n\n  components: {\n    EditorContent,\n    EditorMenuBar\n    // EditorMenuBubble,\n  },\n\n  props: {\n    text: String\n  },\n\n  data() {\n    return {\n      passageText: this.text,\n      saveStatus: \"Saved!\",\n      isTyping: false,\n\n      editor: new Editor({\n        extensions: [\n          new Blockquote(),\n          new BulletList(),\n          new HardBreak(),\n          new Heading({ levels: [1, 2, 3] }),\n          new ListItem(),\n          new OrderedList(),\n          new Bold(),\n          new Italic(),\n          new Strike(),\n          new Underline(),\n          new FontTextColor()\n        ],\n        content: this.text\n      })\n    };\n  },\n  beforeDestroy() {\n    this.emitEdit();\n\n    this.editor.destroy();\n  },\n\n  computed: {\n    editing: function() {\n      return this.editor.focused;\n    },\n\n    html: function() {\n      return this.editor.getHTML();\n    }\n  },\n\n  watch: {\n    editing: function() {\n      if (this.editing) {\n        this.saveStatus = \"Saving...\";\n        this.isTyping = true;\n      }\n      if (!this.editing) {\n        this.saveStatus = \"Saving...\";\n        setTimeout(() => {\n          this.isTyping = false;\n          this.saveStatus = \"Saved!\";\n        }, 500);\n      }\n      if (!this.editing && !this.isTyping) {\n        this.saveStatus = \"Saved!\";\n        this.isTyping = false;\n        this.stashEdit();\n      }\n    },\n\n    html: debounce(function(){\n      this.isTyping = false;\n      this.stashEdit();\n      this.saveStatus = \"Saved!\"\n    }, 500)\n\n  },\n\n  methods: {\n    emitEdit: function() {\n      this.passageText = this.editor.getHTML();\n      // console.log(\"Saving...\");\n      this.$emit(\"evtPassageChange\", this.passageText);\n      this.saveStatus = \"Saved!\";\n    },\n\n    stashEdit: function(){\n      this.passageText = this.editor.getHTML();\n    },\n\n    switchEdit: function() {\n      this.$emit(\"switchEdit\", false);\n    }\n  }\n};\n</script>\n\n<style scoped>\n@keyframes border_anim {\n  from {\n    border: solid gray;\n  }\n  to {\n    border: solid black;\n  }\n}\n\n#editorStyle{\n  border:solid lightgray;\n  border-top: solid white;\n  border-width: 2px;\n  background: \twhite;\n  outline:none;\n  padding: 10px;\n}\n\n.menubar {\n  border:solid lightgrey;\n  border-width: 2px;\n  background: whitesmoke;\n}\n\n.menubar__button {\n  background-color: transparent;\n  color: black;\n  padding: 2px 2px;\n  font-size: 20px;\n  height: 50%;\n  border: lightgrey;\n}\n\n.spacing {\n  width: 100%;\n  height: 15px;\n}\n\n.divider {\n  width: 10px;\n  height: auto;\n  display: inline-block;\n}\n\n.editor_button {\n  align-content: left;\n  border: solid white;\n  border-width: 5px;\n  border-radius: 5px;\n}\n\n.editor_button:hover {\n  border-width: 5px;\n  border-radius: 5px;\n  animation: border_anim;\n  animation-fill-mode: forwards;\n  animation-duration: 500ms;\n}\n</style>\n"]}]}
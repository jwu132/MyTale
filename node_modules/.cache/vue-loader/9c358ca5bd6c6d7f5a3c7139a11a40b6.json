{"remainingRequest":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/justinwu/Desktop/story_personalization_system/src/components/stories/addStory.vue?vue&type=style&index=0&id=58e571c0&scoped=true&lang=css&","dependencies":[{"path":"/Users/justinwu/Desktop/story_personalization_system/src/components/stories/addStory.vue","mtime":1604692362841},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKZm9ybXsKICBtYXJnaW4tbGVmdDogMzBweDsKICBtYXJnaW4tcmlnaHQ6IDMwcHg7Cn0KI2NvbnRlbnQgewogICAgZm9udC1mYW1pbHk6IFZlcmRhbmEsIEdlbmV2YSwgc2Fucy1zZXJpZjsKICAgIGxpbmUtaGVpZ2h0OiAxLjg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBpdm9yeTsKICB9Cg=="},{"version":3,"sources":["addStory.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addStory.vue","sourceRoot":"src/components/stories","sourcesContent":["<template>\n  <v-app>\n    <NavBar />\n    <form v-if=\"!isSubmitted && !noStory\">\n      <h2>Add a New Story</h2>\n      <v-text-field\n        v-model=\"newStory.title\"\n        :error-messages=\"nameErrors\"\n        :counter=\"30\"\n        label=\"Story Title\"\n        required\n      />\n      <v-text-field\n        v-model=\"newStory.synopsis\"\n        :error-messages=\"bodyErrors\"\n        label=\"Synopsis\"\n        required\n      />\n      <v-select\n        v-model=\"newStory.tags\"\n        :items=\"allTags\"\n        :multiple=\"true\"\n        :error-messages=\"selectErrors\"\n        label=\"Tags\"\n        required\n      />\n\n      <v-text-field\n        v-model=\"newTag\"\n        label=\"Add New Tag\"\n        required\n        v-on:click=\"clickAddTag()\"\n      />\n\n      <v-btn v-if=\"addingTag\" :disabled=\"!addedTag\" v-on:click=\"addTag(newTag), updateTags()\">Add Tag</v-btn>\n      <br>\n      <v-btn :disabled=\"!formComplete\" v-on:click=\"addStory(newStory)\">Submit Story</v-btn>\n    </form>\n    <h2 v-if=\"noStory\">No story has been chosen, please choose a story to submit.</h2>\n    <h2 v-if=\"isSubmitted\">Your story has been submitted!</h2>\n  </v-app>\n</template>\n\n<script>\n\nimport NavBar from '@/components/homepage/NavBar';\nimport storyMixin from \"@/mixins/storyMixin\";\nimport firebaseMixin from \"@/mixins/firebaseMixin\";\nimport firebase from 'firebase';\n\n//const allTags = [\"Saying Something\", \"Apologizing\", \"Manners\", \"Friends\", \"Playing\", \"Thank You\", \"Apologizing\"];\nvar d = new Date();\n\nexport default {\n  components:{\n    NavBar,\n  },\n  data (){\n    return{\n      allTags: [],\n      newStory:{\n        \"title\": \"\",\n        \"author\": firebase.auth().currentUser.displayName,\n        \"synopsis\": \"\",\n        \"tags\": [],\n        \"views\": 0,\n        \"dateNow\": Date.now(),\n        \"dateAdded\": d.getMonth()+1+'/'+d.getDate()+'/'+d.getFullYear(),\n        \"text\": \"\",\n        \"creator\": firebase.auth().currentUser.email,\n      },\n      nameErrors:\"\",\n      bodyErrors:\"\",\n      authorErrors:\"\",\n      selectErrors:\"\",\n      newTag: \"\",\n      noStory: false,\n      isSubmitted: false,\n      addingTag: false,\n    }\n  },\n  methods: {\n    clickAddTag(){\n      this.addingTag = true;\n    },\n    updateTags(){\n      this.allTags = this.getTags()\n    }\n  },\n  created() {\n    this.newStory.text = this.$store.state.storyToPublish;\n    if(this.newStory.text.length === 0){\n      this.noStory = true;\n    }\n    this.allTags = this.getTags()\n  },\n  mounted() {\n  \n  },\n  computed:{\n    formComplete () {\n      if(this.newStory.tags.length > 0 && this.newStory.title.length<=30){\n        return this.newStory.title && this.newStory.author && this.newStory.synopsis && this.newStory.text\n      } \n      else{\n        return false\n      }\n    },\n    addedTag(){\n      return (this.newTag.length > 0)\n    },\n  },\n  mixins: [storyMixin, firebaseMixin]\n}\n</script>\n\n<style scoped>\nform{\n  margin-left: 30px;\n  margin-right: 30px;\n}\n#content {\n    font-family: Verdana, Geneva, sans-serif;\n    line-height: 1.8;\n    background-color: ivory;\n  }\n</style>\n"]}]}
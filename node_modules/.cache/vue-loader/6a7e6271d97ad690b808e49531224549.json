{"remainingRequest":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/justinwu/Desktop/story_personalization_system/src/components/editor/text/Text_Editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/justinwu/Desktop/story_personalization_system/src/components/editor/text/Text_Editor.vue","mtime":1604692362837},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUZXh0X1RpcHRhcCBmcm9tICIuL1RleHRfVGlwdGFwLnZ1ZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInRleHQtZWRpdG9yIiwKCiAgY29tcG9uZW50czogewogICAgInRleHQtdGlwdGFwIjogVGV4dF9UaXB0YXAKICB9LAoKICBwcm9wczogewogICAgZGlzcFRleHQ6IFN0cmluZywKICAgIGxpbmtUZXh0OiBTdHJpbmcsCiAgICB0aGVtZTogU3RyaW5nCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVkaXRpbmc6IGZhbHNlLAogICAgICBlZGl0T3B0aW9uczogZmFsc2UsCiAgICAgIHRleHRWYWx1ZTogdGhpcy5kaXNwVGV4dCwKICAgICAgbGlua1RleHRWYWx1ZTogdGhpcy5saW5rVGV4dCwKCiAgICAgIHJlbmRlcktleTogMAogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgZWRpdExpbmtUZXh0VmFsdWU6IGZ1bmN0aW9uKCkgewogICAgICB2YXIgc291cmNlID0gdGhpcy5saW5rVGV4dFZhbHVlOwogICAgICBzb3VyY2UgPSBzb3VyY2UucmVwbGFjZSgvXG4vZywgIjxicj4iKTsKCiAgICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKC8mcXVvdDsvZywgJyInKTsKICAgICAgc291cmNlID0gc291cmNlLnJlcGxhY2UoLyYjMzk7L2csICInIik7CiAgICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKC8mbHQ7L2csICI8Iik7CiAgICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKC8mZ3Q7L2csICI+Iik7CiAgICAgIHJldHVybiAiPHA+IiArIHNvdXJjZSArICI8L3A+IjsKICAgIH0sCgogICAgZW1pdExpbmtUZXh0VmFsdWU6IGZ1bmN0aW9uKCkgewogICAgICB2YXIgc291cmNlID0gdGhpcy5saW5rVGV4dFZhbHVlOwoKICAgICAgc291cmNlID0gc291cmNlLnJlcGxhY2UoLzxwPi9nLCAiIik7CiAgICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKC88XC9wPi9nLCAiXG4iKTsKCiAgICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKC8iL2csICImcXVvdDsiKTsKICAgICAgc291cmNlID0gc291cmNlLnJlcGxhY2UoLycvZywgIiYjMzk7Iik7CiAgICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKC88L2csICImbHQ7Iik7CiAgICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKC8+L2csICImZ3Q7Iik7CgogICAgICByZXR1cm4gc291cmNlLnRyaW0oKTsKICAgIH0KICB9LAoKICBtZXRob2RzOiB7CiAgICB1cGRhdGVQYXNzYWdlKGV2ZW50KSB7CiAgICAgIHRoaXMubGlua1RleHRWYWx1ZSA9IGV2ZW50LnJlcGxhY2UoLzxicj4vZywgIlxuIik7CgogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmVtaXRMaW5rVGV4dFZhbHVlKTsKCiAgICAgIHRoaXMuJGVtaXQoImV2dFBhc3NhZ2VDaGFuZ2UiLCB0aGlzLmVtaXRMaW5rVGV4dFZhbHVlKTsKICAgICAgdGhpcy5yZW5kZXJLZXktLTsKICAgIH0sCgogICAgc3dpdGNoRWRpdDogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuZWRpdGluZyA9ICF0aGlzLmVkaXRpbmc7CiAgICAgIHRoaXMuZWRpdE9wdGlvbnMgPSBmYWxzZTsKICAgICAgdGhpcy5yZW5kZXJLZXkrKzsKICAgIH0sCgogICAgc2hvd0VkaXRPcHRpb25zOiBmdW5jdGlvbigpewogICAgICB0aGlzLmVkaXRPcHRpb25zID0gIXRoaXMuZWRpdE9wdGlvbnM7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Text_Editor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Text_Editor.vue","sourceRoot":"src/components/editor/text","sourcesContent":["<template>\n  <div id=\"edit_field\">\n\n    <button v-on:click=\"switchEdit\" style=\"cursor: pointer;\">\n      <div v-if=\"!this.editing\" id=\"not_editing\">\n        <v-card-text id=\"text_display\"><span v-html=\"this.textValue\"></span></v-card-text>\n      </div>\n    </button>\n\n    <div v-if=\"this.editing\" id=\"is_editing\">\n        \n      <text-tiptap\n        v-bind:text=\"this.editLinkTextValue\"\n        id=\"text_edit\"\n        v-on:evtPassageChange=\"updatePassage\"\n        v-bind:key=\"this.renderKey\"\n        v-bind:class=\"this.theme\"\n      />\n\n    </div>\n\n    <div id = \"edit_options\" v-if = \"this.editOptions\" style = \"display:flex; flex-direction:row; justify-content: space-around; border-top: solid 2px lightgray; padding: 5px;\">\n      <v-btn id = \"confirm_edit\" style = \"width: 20%;\" v-on:click = \"switchEdit\">Edit</v-btn>\n      <v-btn id = \"cancel_edit\" style = \"width: 20%;\" v-on:click = \"showEditOptions\">Cancel</v-btn>\n    \n    </div>\n\n  </div>\n</template>\n\n<script>\nimport Text_Tiptap from \"./Text_Tiptap.vue\";\n\nexport default {\n  name: \"text-editor\",\n\n  components: {\n    \"text-tiptap\": Text_Tiptap\n  },\n\n  props: {\n    dispText: String,\n    linkText: String,\n    theme: String\n  },\n\n  data() {\n    return {\n      editing: false,\n      editOptions: false,\n      textValue: this.dispText,\n      linkTextValue: this.linkText,\n\n      renderKey: 0\n    };\n  },\n\n  computed: {\n    editLinkTextValue: function() {\n      var source = this.linkTextValue;\n      source = source.replace(/\\n/g, \"<br>\");\n\n      source = source.replace(/&quot;/g, '\"');\n      source = source.replace(/&#39;/g, \"'\");\n      source = source.replace(/&lt;/g, \"<\");\n      source = source.replace(/&gt;/g, \">\");\n      return \"<p>\" + source + \"</p>\";\n    },\n\n    emitLinkTextValue: function() {\n      var source = this.linkTextValue;\n\n      source = source.replace(/<p>/g, \"\");\n      source = source.replace(/<\\/p>/g, \"\\n\");\n\n      source = source.replace(/\"/g, \"&quot;\");\n      source = source.replace(/'/g, \"&#39;\");\n      source = source.replace(/</g, \"&lt;\");\n      source = source.replace(/>/g, \"&gt;\");\n\n      return source.trim();\n    }\n  },\n\n  methods: {\n    updatePassage(event) {\n      this.linkTextValue = event.replace(/<br>/g, \"\\n\");\n\n      // console.log(this.emitLinkTextValue);\n\n      this.$emit(\"evtPassageChange\", this.emitLinkTextValue);\n      this.renderKey--;\n    },\n\n    switchEdit: function() {\n      this.editing = !this.editing;\n      this.editOptions = false;\n      this.renderKey++;\n    },\n\n    showEditOptions: function(){\n      this.editOptions = !this.editOptions;\n    }\n  }\n};\n</script>\n\n<style scoped>\n@keyframes border_anim {\n  from {\n    border: solid gray;\n  }\n  to {\n    border: solid black;\n  }\n}\n\n#edit_field {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n}\n\n#not_editing {\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  justify-content: space-around;\n  padding: 20px;\n}\n#text_display {\n  white-space: pre-wrap;\n}\n\n#is_editing {\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  justify-content: space-around;\n\n  padding: 10px;\n}\n\n#cancel_button {\n  width: 15%;\n}\n\n#text_edit {\n  box-sizing: content-box;\n}\n\n.editor_button {\n  align-content: left;\n  border: solid white;\n  border-width: 5px;\n  border-radius: 5px;\n}\n\n.editor_button:hover {\n  border-width: 5px;\n  border-radius: 5px;\n  animation: border_anim;\n  animation-fill-mode: forwards;\n  animation-duration: 500ms;\n}\n\n.divider {\n  grid-area: divider;\n  width: auto;\n  height: 20px;\n  display: inline-block;\n}\n\nbutton{\n  outline:none;\n}\n</style>\n"]}]}
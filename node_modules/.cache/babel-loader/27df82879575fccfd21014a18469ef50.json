{"remainingRequest":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/babel-loader/lib/index.js!/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/justinwu/Desktop/Gitlab_MyTale/mytale/src/components/users/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/src/components/users/login.vue","mtime":1604692362841},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIGlzTG9nZ2VkSW46IGZhbHNlLAogICAgICB2ZXJpZmllZEVycm9yOiBmYWxzZSwKICAgICAgaXNFcnJvcjogZmFsc2UsCiAgICAgIGVycm9yOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmlzRXJyb3IgPSBmYWxzZTsKICAgICAgdGhpcy52ZXJpZmllZEVycm9yID0gZmFsc2U7CiAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCh0aGlzLmVtYWlsLCB0aGlzLnBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgaWYgKGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci5lbWFpbFZlcmlmaWVkKSB7CiAgICAgICAgICBfdGhpcy5pc0xvZ2dlZEluID0gdXNlcjsKICAgICAgICAgIGxvY2F0aW9uLnJlcGxhY2UoImRhc2hib2FyZC5odG1sIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLnZlcmlmaWVkRXJyb3IgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzLmlzTG9nZ2VkSW4gPSBmYWxzZTsKICAgICAgICBfdGhpcy5pc0Vycm9yID0gdHJ1ZTsKICAgICAgICBfdGhpcy5lcnJvciA9IGVyci5tZXNzYWdlOwogICAgICB9KTsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgfSwKICAgIHZlcmlmaWNhdGlvbkVtYWlsOiBmdW5jdGlvbiB2ZXJpZmljYXRpb25FbWFpbChlKSB7CiAgICAgIGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci5zZW5kRW1haWxWZXJpZmljYXRpb24oKTsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgfSwKICAgIGxpc3RlbkZvckVudGVyOiBmdW5jdGlvbiBsaXN0ZW5Gb3JFbnRlcigpIHsKICAgICAgdmFyIHBhc3N3b3JkSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGFzc3dvcmQiKTsKICAgICAgcGFzc3dvcmRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAxMykgewogICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbicpLmNsaWNrKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7Ly90aGlzLmxpc3RlbkZvckVudGVyKCkKICB9Cn07"},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,QAAA,MAAA,UAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,UAAA,EAAA,KAHA;AAIA,MAAA,aAAA,EAAA,KAJA;AAKA,MAAA,OAAA,EAAA,KALA;AAMA,MAAA,KAAA,EAAA;AANA,KAAA;AAQA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,iBACA,CADA,EACA;AAAA;;AACA,WAAA,OAAA,GAAA,KAAA;AACA,WAAA,aAAA,GAAA,KAAA;AACA,MAAA,QAAA,CAAA,IAAA,GAAA,0BAAA,CAAA,KAAA,KAAA,EAAA,KAAA,QAAA,EACA,IADA,CAEA,UAAA,IAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,GAAA,WAAA,CAAA,aAAA,EAAA;AACA,UAAA,KAAA,CAAA,UAAA,GAAA,IAAA;AACA,UAAA,QAAA,CAAA,OAAA,CAAA,gBAAA;AACA,SAHA,MAIA;AACA,UAAA,KAAA,CAAA,aAAA,GAAA,IAAA;AACA;AACA,OAVA,EAWA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,OAAA;AACA,OAfA;AAiBA,MAAA,CAAA,CAAA,cAAA;AACA,KAtBA;AAuBA,IAAA,iBAvBA,6BAuBA,CAvBA,EAuBA;AACA,MAAA,QAAA,CAAA,IAAA,GAAA,WAAA,CAAA,qBAAA;AACA,MAAA,CAAA,CAAA,cAAA;AACA,KA1BA;AA2BA,IAAA,cA3BA,4BA2BA;AACA,UAAA,aAAA,GAAA,QAAA,CAAA,cAAA,CAAA,UAAA,CAAA;AACA,MAAA,aAAA,CAAA,gBAAA,CAAA,OAAA,EACA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,KAAA,EAAA,EAAA;AACA,UAAA,KAAA,CAAA,cAAA;AACA,UAAA,QAAA,CAAA,cAAA,CAAA,OAAA,EAAA,KAAA;AACA;AACA,OANA;AAOA;AApCA,GAXA;AAiDA,EAAA,OAjDA,qBAiDA,CACA;AACA;AAnDA,CAAA","sourcesContent":["<template>\n  <v-app>\n    <div class=\"container\">\n      <form v-if=\"!isLoggedIn && !verifiedError\">\n        <h3>Login</h3>\n        <div class=\"py-1\"></div>\n        <div class=\"input-field\">\n          <v-text-field id = \"email\" label=\"Email\" v-model=\"email\" />\n          <v-text-field id = \"password\" type=\"password\" label =\"Password\" v-model=\"password\" />\n        </div>\n        <div v-if=\"isError\">\n          {{error}}\n        </div>\n        <v-btn text id = \"login\" class=\"login-btn\" v-on:click='login'>Login</v-btn>\n        <router-link :to=\"{name: 'resetPassword'}\">\n          <v-btn text class=\"reset-password\">Forgot Password</v-btn>\n        </router-link>\n        <v-btn text class=\"register-btn\" href=\"register.html\">Create an account</v-btn>\n      </form>\n      <div v-if=\"verifiedError\">\n        <h3>Your account is not verified.</h3>\n        <v-btn text class=\"verify-btn\" v-on:click='verificationEmail'>Send Verification Email</v-btn>\n      </div>\n      <div v-if=\"isLoggedIn && !isError\" class=\"after-register\">\n        <p>You are now logged in!</p>\n      </div>\n    </div>\n  </v-app>\n</template>\n\n<script>\nimport firebase from 'firebase'\n\n  export default {\n    data() {\n      return {\n        email: '',\n        password: '',\n        isLoggedIn: false,\n        verifiedError: false,\n        isError: false,\n        error: '',\n      };\n    },\n    methods: {\n      login(e){\n        this.isError = false;\n        this.verifiedError = false;\n        firebase.auth().signInWithEmailAndPassword(this.email, this.password)\n          .then(\n            user => {\n              if(firebase.auth().currentUser.emailVerified){\n                this.isLoggedIn = user\n                location.replace(\"dashboard.html\")\n              }\n              else{\n                this.verifiedError = true;\n              }\n            },\n            err=> {\n              this.isLoggedIn = false;\n              this.isError = true;\n              this.error = err.message\n            },\n          );\n          e.preventDefault();\n      },\n      verificationEmail(e){\n        firebase.auth().currentUser.sendEmailVerification()\n        e.preventDefault();\n      },\n      listenForEnter(){\n        var passwordInput = document.getElementById(\"password\");\n        passwordInput.addEventListener(\"keyup\", \n        function(event) {\n          if(event.keyCode === 13){\n            event.preventDefault()\n            document.getElementById('login').click();\n          }\n        })\n      }\n    },\n    created() {\n      //this.listenForEnter()\n    }\n  }\n</script>\n\n<style scoped>\n.register-btn{\n  float:right;\n}\n.reset-password{\n  text-align:center;\n}\na{\n  text-decoration:none;\n}\n</style>"],"sourceRoot":"src/components/users"}]}
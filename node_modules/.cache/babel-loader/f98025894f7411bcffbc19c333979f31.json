{"remainingRequest":"/Users/justinwu/Desktop/story_personalization_system/node_modules/babel-loader/lib/index.js!/Users/justinwu/Desktop/story_personalization_system/node_modules/eslint-loader/index.js??ref--13-0!/Users/justinwu/Desktop/story_personalization_system/src/js/extwee_utils/Story.js","dependencies":[{"path":"/Users/justinwu/Desktop/story_personalization_system/src/js/extwee_utils/Story.js","mtime":1604692362843},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyIpOwoKdmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoIi9Vc2Vycy9qdXN0aW53dS9EZXNrdG9wL3N0b3J5X3BlcnNvbmFsaXphdGlvbl9zeXN0ZW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKTsKCnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKCIvVXNlcnMvanVzdGlud3UvRGVza3RvcC9zdG9yeV9wZXJzb25hbGl6YXRpb25fc3lzdGVtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIik7Cgp2YXIgcGtnID0gcmVxdWlyZSgnLi4vLi4vanNvbi9leHR3ZWUvcGFja2FnZS5qc29uJyk7Ci8qKgogKiBAY2xhc3MgU3RvcnkKICogQG1vZHVsZSBTdG9yeQogKi8KCgp2YXIgU3RvcnkgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgLyoqCiAgICogQGZ1bmN0aW9uIFN0b3J5CiAgICogQGNsYXNzCiAgICovCiAgZnVuY3Rpb24gU3Rvcnkob2JqKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RvcnkpOwoKICAgIGlmIChvYmogPT0gbnVsbCkgewogICAgICB0aGlzLm5hbWUgPSAnVW5rbm93bic7CiAgICAgIHRoaXMubWV0YWRhdGEgPSB7CiAgICAgICAgaWZpZDogJycsCiAgICAgICAgZm9ybWF0OiAnJywKICAgICAgICBmb3JtYXRWZXJzaW9uOiAnJywKICAgICAgICB6b29tOiAnJywKICAgICAgICBzdGFydDogJycKICAgICAgfTsKICAgICAgdGhpcy5wYXNzYWdlcyA9IFtdOyAvLyBTdG9yZSB0aGUgY3JlYXRvciBhbmQgdmVyc2lvbgoKICAgICAgdGhpcy5jcmVhdG9yID0gcGtnLm5hbWU7CiAgICAgIHRoaXMuY3JlYXRvclZlcnNpb24gPSBwa2cudmVyc2lvbjsKICAgIH0gZWxzZSB7CiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgb2JqKTsKICAgIH0KICB9CiAgLyoqCiAgICogU2VhcmNoIGZvciBwYXNzYWdlcyB3aXRoIHRoZSAnc3R5bGVzaGVldCcgdGFnCiAgICoKICAgKiBAZnVuY3Rpb24gZ2V0U3R5bGVQYXNzYWdlcwogICAqIEByZXR1cm5zIHtBcnJheX0gLSBFbXB0eSBvciBhcnJheSBvZiBwYXNzYWdlcwogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKFN0b3J5LCBbewogICAga2V5OiAiZ2V0U3R5bGVQYXNzYWdlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3R5bGVQYXNzYWdlcygpIHsKICAgICAgdmFyIHN0eWxlUGFzc2FnZXMgPSBbXTsKCiAgICAgIGlmICh0aGlzLnBhc3NhZ2VzLmxlbmd0aCA+IDApIHsKICAgICAgICBzdHlsZVBhc3NhZ2VzID0gdGhpcy5wYXNzYWdlcy5maWx0ZXIoZnVuY3Rpb24gKHBhc3NhZ2UpIHsKICAgICAgICAgIHZhciByZXN1bHRzID0gcGFzc2FnZS50YWdzLmZpbHRlcihmdW5jdGlvbiAodGFnKSB7CiAgICAgICAgICAgIHJldHVybiB0YWcgPT09ICdzdHlsZXNoZWV0JzsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIHJlc3VsdHMubGVuZ3RoID4gMDsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHN0eWxlUGFzc2FnZXM7CiAgICB9CiAgICAvKioKICAgICAqIFNlYXJjaCBmb3IgcGFzc2FnZXMgd2l0aCB0aGUgJ3NjcmlwdCcgdGFnCiAgICAgKgogICAgICogQGZ1bmN0aW9uIGdldFNjcmlwdFBhc3NhZ2VzCiAgICAgKiBAcmV0dXJucyB7QXJyYXl9ICAtIEVtcHR5IG9yIGFycmF5IG9mIHBhc3NhZ2VzCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0U2NyaXB0UGFzc2FnZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNjcmlwdFBhc3NhZ2VzKCkgewogICAgICB2YXIgc2NyaXB0UGFzc2FnZXMgPSBbXTsKCiAgICAgIGlmICh0aGlzLnBhc3NhZ2VzLmxlbmd0aCA+IDApIHsKICAgICAgICBzY3JpcHRQYXNzYWdlcyA9IHRoaXMucGFzc2FnZXMuZmlsdGVyKGZ1bmN0aW9uIChwYXNzYWdlKSB7CiAgICAgICAgICB2YXIgcmVzdWx0cyA9IHBhc3NhZ2UudGFncy5maWx0ZXIoZnVuY3Rpb24gKHRhZykgewogICAgICAgICAgICByZXR1cm4gdGFnID09PSAnc2NyaXB0JzsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIHJlc3VsdHMubGVuZ3RoID4gMDsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNjcmlwdFBhc3NhZ2VzOwogICAgfQogICAgLyoqCiAgICAgKiBTZWFyY2ggZm9yIHBhc3NhZ2VzIHdpdGggdGhlICdzdHlsZXNoZWV0JyB0YWcKICAgICAqCiAgICAgKiBAZnVuY3Rpb24gZ2V0U3RvcnlQYXNzYWdlcwogICAgICogQHJldHVybnMge0FycmF5fSAtIEVtcHR5IG9yIGFycmF5IG9mIHBhc3NhZ2VzCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0U3RvcnlQYXNzYWdlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3RvcnlQYXNzYWdlcygpIHsKICAgICAgdmFyIHN0b3J5UGFzc2FnZXMgPSBbXTsKCiAgICAgIGlmICh0aGlzLnBhc3NhZ2VzLmxlbmd0aCA+IDApIHsKICAgICAgICBzdG9yeVBhc3NhZ2VzID0gdGhpcy5wYXNzYWdlcy5maWx0ZXIoZnVuY3Rpb24gKHBhc3NhZ2UpIHsKICAgICAgICAgIHZhciByZXN1bHRzID0gcGFzc2FnZS50YWdzLmZpbHRlcihmdW5jdGlvbiAodGFnKSB7CiAgICAgICAgICAgIHJldHVybiB0YWcgPT09ICdzdG9yeSc7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiByZXN1bHRzLmxlbmd0aCA+IDA7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzdG9yeVBhc3NhZ2VzOwogICAgfQogICAgLyoqCiAgICAgKiBEZWxldGUgc3BlY2lmaWMgcGFzc2FnZXMgYnkgdGhlaXIgdGFnCiAgICAgKgogICAgICogQGZ1bmN0aW9uIGRlbGV0ZUFsbEJ5VGFnCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoVGFnIC0gVGFnIHRvIHNlYXJjaCBmb3IKICAgICAqIEByZXR1cm5zIHt2b2lkfQogICAgICovCgogIH0sIHsKICAgIGtleTogImRlbGV0ZUFsbEJ5VGFnIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVBbGxCeVRhZyhzZWFyY2hUYWcpIHsKICAgICAgaWYgKHRoaXMucGFzc2FnZXMubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMucGFzc2FnZXMgPSB0aGlzLnBhc3NhZ2VzLmZpbHRlcihmdW5jdGlvbiAocGFzc2FnZSkgewogICAgICAgICAgcmV0dXJuICFwYXNzYWdlLnRhZ3MuaW5jbHVkZXMoc2VhcmNoVGFnKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBGaW5kIHRoZSBzdGFydGluZyBwYXNzYWdlcwogICAgICoKICAgICAqIEBmdW5jdGlvbiBnZXRTdGFydGluZ1Bhc3NhZ2UKICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gUmV0dXJuIHBhc3NhZ2UgbmFtZSBvciBudWxsCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0U3RhcnRpbmdQYXNzYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTdGFydGluZ1Bhc3NhZ2UoKSB7CiAgICAgIHZhciBwaWQgPSBudWxsOwogICAgICB2YXIgc2VhcmNoTmFtZSA9IG51bGw7CgogICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMubWV0YWRhdGEsICdzdGFydCcpKSB7CiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHByb3BlcnR5IGlzIGFuIGVtcHR5IHN0cmluZwogICAgICAgIC8vIElmIHNvLCBpZ25vcmUgaXQuCiAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEuc3RhcnQgIT09ICcnKSB7CiAgICAgICAgICBzZWFyY2hOYW1lID0gdGhpcy5tZXRhZGF0YS5zdGFydDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnBhc3NhZ2VzLmxlbmd0aCA+IDApIHsKICAgICAgICBmb3IgKHZhciBwYXNzYWdlIGluIHRoaXMucGFzc2FnZXMpIHsKICAgICAgICAgIGlmICh0aGlzLnBhc3NhZ2VzW3Bhc3NhZ2VdLm5hbWUgPT09IHNlYXJjaE5hbWUpIHsKICAgICAgICAgICAgcGlkID0gdGhpcy5wYXNzYWdlc1twYXNzYWdlXS5waWQ7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0aGlzLnBhc3NhZ2VzW3Bhc3NhZ2VdLm5hbWUgPT09ICdTdGFydCcpIHsKICAgICAgICAgICAgcGlkID0gdGhpcy5wYXNzYWdlc1twYXNzYWdlXS5waWQ7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRoaXMucGFzc2FnZXNbcGFzc2FnZV0udGFncy5pbmNsdWRlcygic3RhcnQiKSkgewogICAgICAgICAgICBwaWQgPSB0aGlzLnBhc3NhZ2VzW3Bhc3NhZ2VdLnBpZDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChwaWQgPT09IG51bGwpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0YXJ0aW5nIHBhc3NhZ2Ugbm90IGZvdW5kIScpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBwaWQ7CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBTdG9yeTsKfSgpOwoKbW9kdWxlLmV4cG9ydHMgPSBTdG9yeTs="},{"version":3,"sources":["/Users/justinwu/Desktop/story_personalization_system/src/js/extwee_utils/Story.js"],"names":["pkg","require","Story","obj","name","metadata","ifid","format","formatVersion","zoom","start","passages","creator","creatorVersion","version","Object","assign","stylePassages","length","filter","passage","results","tags","tag","scriptPassages","storyPassages","searchTag","includes","pid","searchName","prototype","hasOwnProperty","call","Error","module","exports"],"mappings":"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","sourcesContent":["const pkg = require('../../json/extwee/package.json');\n/**\n * @class Story\n * @module Story\n */\nclass Story {\n\t/**\n\t * @function Story\n\t * @class\n\t */\n\tconstructor(obj) {\n\t\tif(obj == null){\n\t\t\tthis.name = 'Unknown';\n\t\t\tthis.metadata = {\n\t\t\t\tifid: '',\n\t\t\t\tformat: '',\n\t\t\t\tformatVersion: '',\n\t\t\t\tzoom: '',\n\t\t\t\tstart: '',\n\t\t\t};\n\n\t\t\tthis.passages = [];\n\t\t\t// Store the creator and version\n\t\t\tthis.creator = pkg.name;\n\t\t\tthis.creatorVersion = pkg.version;\n\t\t} else {\n\t\t\tObject.assign(this, obj);\n\t\t}\n\t}\n\n\t/**\n\t * Search for passages with the 'stylesheet' tag\n\t *\n\t * @function getStylePassages\n\t * @returns {Array} - Empty or array of passages\n\t */\n\tgetStylePassages() {\n\t\tlet stylePassages = [];\n\n\t\tif (this.passages.length > 0) {\n\t\t\tstylePassages = this.passages.filter(function (passage) {\n\t\t\t\tconst results = passage.tags.filter(tag => tag === 'stylesheet');\n\n\t\t\t\treturn (results.length > 0);\n\t\t\t});\n\t\t}\n\n\t\treturn stylePassages;\n\t}\n\n\t/**\n\t * Search for passages with the 'script' tag\n\t *\n\t * @function getScriptPassages\n\t * @returns {Array}  - Empty or array of passages\n\t */\n\tgetScriptPassages() {\n\t\tlet scriptPassages = [];\n\n\t\tif (this.passages.length > 0) {\n\t\t\tscriptPassages = this.passages.filter(function (passage) {\n\t\t\t\tconst results = passage.tags.filter(tag => tag === 'script');\n\n\t\t\t\treturn (results.length > 0);\n\t\t\t});\n\t\t}\n\n\t\treturn scriptPassages;\n\t}\n\n\t/**\n\t * Search for passages with the 'stylesheet' tag\n\t *\n\t * @function getStoryPassages\n\t * @returns {Array} - Empty or array of passages\n\t */\n\tgetStoryPassages() {\n\t\tlet storyPassages = [];\n\n\t\tif (this.passages.length > 0) {\n\t\t\tstoryPassages = this.passages.filter(function (passage) {\n\t\t\t\tconst results = passage.tags.filter(tag => tag === 'story');\n\n\t\t\t\treturn (results.length > 0);\n\t\t\t});\n\t\t}\n\n\t\treturn storyPassages;\n\t}\n\n\n\t\n\n\t/**\n\t * Delete specific passages by their tag\n\t *\n\t * @function deleteAllByTag\n\t * @param {string} searchTag - Tag to search for\n\t * @returns {void}\n\t */\n\tdeleteAllByTag(searchTag) {\n\t\tif (this.passages.length > 0) {\n\t\t\tthis.passages = this.passages.filter(function (passage) {\n\t\t\t\treturn !passage.tags.includes(searchTag);\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Find the starting passages\n\t *\n\t * @function getStartingPassage\n\t * @returns {string|null} Return passage name or null\n\t */\n\tgetStartingPassage() {\n\t\tlet pid = null;\n\t\tlet searchName = null;\n\n\t\tif (Object.prototype.hasOwnProperty.call(this.metadata, 'start')) {\n\t\t\t// Check if the property is an empty string\n\t\t\t// If so, ignore it.\n\t\t\tif (this.metadata.start !== '') {\n\t\t\t\tsearchName = this.metadata.start;\n\t\t\t}\n\t\t}\n\n\t\tif (this.passages.length > 0) {\n\t\t\tfor (const passage in this.passages) {\n\t\t\t\tif (this.passages[passage].name === searchName) {\n\t\t\t\t\tpid = this.passages[passage].pid;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (this.passages[passage].name === 'Start') {\n\t\t\t\t\tpid = this.passages[passage].pid;\n\t\t\t\t}\n\n\t\t\t\tif(this.passages[passage].tags.includes(\"start\")){\n\t\t\t\t\tpid = this.passages[passage].pid;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (pid === null) {\n\t\t\tthrow new Error('Starting passage not found!');\n\t\t} else {\n\t\t\treturn pid;\n\t\t}\n\t}\n}\n\nmodule.exports = Story;\n"]}]}
{"remainingRequest":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/babel-loader/lib/index.js!/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/justinwu/Desktop/Gitlab_MyTale/mytale/src/components/stories/storyPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/src/components/stories/storyPage.vue","mtime":1604692362841},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5lbnRyaWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9qdXN0aW53dS9EZXNrdG9wL0dpdGxhYl9NeVRhbGUvbXl0YWxlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlJzsKaW1wb3J0IHN0b3J5TWl4aW4gZnJvbSAiQC9taXhpbnMvc3RvcnlNaXhpbiI7CmltcG9ydCBmaXJlYmFzZU1peGluIGZyb20gIkAvbWl4aW5zL2ZpcmViYXNlTWl4aW4iOwppbXBvcnQgYnJvd3NlckVkaXRvck1peGluIGZyb20gIkAvbWl4aW5zL2Jyb3dzZXJFZGl0b3JNaXhpbiI7CmltcG9ydCB7IGNvbW1lbnRzUmVmIH0gZnJvbSAiQC9maXJlYmFzZUNvbmZpZyI7CmltcG9ydCBhZGRDb21tZW50IGZyb20gJ0AvY29tcG9uZW50cy9jb21tZW50cy9hZGRDb21tZW50cy52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1N0b3J5JywKICBjb21wb25lbnRzOiB7CiAgICBhZGRDb21tZW50OiBhZGRDb21tZW50CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RvcnlJRDogJycsCiAgICAgIHRhZ3NEYXRhOiBbXSwKICAgICAgZ2l2ZW5TdG9yeTogW3t9XSwKICAgICAgc3RvcnlDb21tZW50czogW10sCiAgICAgIGdpdmVuU3RvcnlDb21tZW50czogW10sCiAgICAgIGlzTG9nZ2VkSW46IGZhbHNlLAogICAgICBpc1ZlcmlmaWVkOiBmYWxzZSwKICAgICAgc2hvd0FkZENvbW1lbnQ6IGZhbHNlLAogICAgICBpc015Q29tbWVudDogZmFsc2UsCiAgICAgIHVzZXJFbWFpbDogJycsCiAgICAgIHVzZXJJRDogJycsCiAgICAgIGVkaXRDb21tZW50S2V5OiAnJywKICAgICAgY29tbWVudEVkaXQ6ICcnLAogICAgICBjdXJyZW50bHlFZGl0aW5nOiBmYWxzZSwKICAgICAgaXNEZWxldGVkOiBmYWxzZQogICAgfTsKICB9LAogIGZpcmViYXNlOiB7CiAgICBzdG9yeUNvbW1lbnRzOiBjb21tZW50c1JlZgogIH0sCiAgbWV0aG9kczogewogICAgcG9wdWxhdGVUYWdzT2JqOiBmdW5jdGlvbiBwb3B1bGF0ZVRhZ3NPYmooKSB7CiAgICAgIHZhciBhcnIgPSBbXTsKICAgICAgdmFyIGtleXMgPSB7fTsKICAgICAgdmFyIHF1ZXJ5ID0gY29tbWVudHNSZWYub3JkZXJCeUtleSgpOwogICAgICBxdWVyeS5vbmNlKCd2YWx1ZScpLnRoZW4oZnVuY3Rpb24gKHNuYXBzaG90KSB7CiAgICAgICAgc25hcHNob3QuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGRTbmFwc2hvdCkgewogICAgICAgICAgdmFyIGtleSA9IGNoaWxkU25hcHNob3QudmFsKCkuc3RvcnlUaXRsZTsKCiAgICAgICAgICBpZiAodHlwZW9mIGtleXNba2V5XSA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAga2V5c1trZXldID0ge307CiAgICAgICAgICB9CgogICAgICAgICAgY2hpbGRTbmFwc2hvdC52YWwoKS5oZWxwZnVsVGFncy5mb3JFYWNoKGZ1bmN0aW9uICh0YWcpIHsKICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXlzW2tleV1bdGFnXSA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICBrZXlzW2tleV1bdGFnXSA9IDA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGtleXNba2V5XVt0YWddICs9IDE7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKCiAgICAgICAgZm9yICh2YXIga2V5IGluIGtleXMpIHsKICAgICAgICAgIGtleXNba2V5XSA9IE9iamVjdC5lbnRyaWVzKGtleXNba2V5XSk7CiAgICAgICAgICBrZXlzW2tleV0uc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICByZXR1cm4gYlsxXSAtIGFbMV07CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAoa2V5c1trZXldLmxlbmd0aCA+IDMpIHsKICAgICAgICAgICAga2V5c1trZXldID0ga2V5c1trZXldLnNsaWNlKDAsIDMpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgYXJyLnB1c2goa2V5cyk7CiAgICAgIH0pOwogICAgICByZXR1cm4gYXJyOwogICAgfSwKICAgIHNob3dBZGQ6IGZ1bmN0aW9uIHNob3dBZGQoKSB7CiAgICAgIHRoaXMuU2hvd0FkZENvbW1lbnRzID0gdHJ1ZTsKICAgIH0sCiAgICBjb25maXJtRWRpdDogZnVuY3Rpb24gY29uZmlybUVkaXQoY29tbWVudEtleSwgY29tbWVudCkgewogICAgICB0aGlzLmVkaXRDb21tZW50S2V5ID0gY29tbWVudEtleTsKICAgICAgdGhpcy5jb21tZW50RWRpdCA9IGNvbW1lbnQ7CiAgICAgIHRoaXMuY3VycmVudGx5RWRpdGluZyA9IHRydWU7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlcikgewogICAgICAgICAgICAgICAgX3RoaXMuaXNWZXJpZmllZCA9IGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci5lbWFpbFZlcmlmaWVkOwogICAgICAgICAgICAgICAgX3RoaXMuaXNMb2dnZWRJbiA9IGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlcjsKICAgICAgICAgICAgICAgIF90aGlzLnVzZXJFbWFpbCA9IGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci5lbWFpbDsKICAgICAgICAgICAgICAgIF90aGlzLnVzZXJJRCA9IGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci51aWQ7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpcy50YWdzRGF0YSA9IF90aGlzLnBvcHVsYXRlVGFnc09iaigpOwogICAgICAgICAgICAgIF90aGlzLnN0b3J5SUQgPSBfdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRTdG9yeShfdGhpcy5zdG9yeUlEKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBfdGhpcy5naXZlblN0b3J5ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIG1peGluczogW3N0b3J5TWl4aW4sIGJyb3dzZXJFZGl0b3JNaXhpbiwgZmlyZWJhc2VNaXhpbl0KfTs="},{"version":3,"sources":["storyPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div v-if=\"givenStory[0]\">\n    <v-card flat class=\"container\" v-if=\"!isDeleted\">\n      <v-card-title v-if=\"givenStory\" class=\"display-1\">\n        {{givenStory[0].title}} \n        <v-spacer></v-spacer>\n        <v-btn outlined v-on:click=\"updateViewsBrowser(givenStory[0])\">View in Browser</v-btn>\n        <v-btn outlined class=\"ml-2\" v-on:click=\"updateViewsEditor(givenStory[0])\">Edit Story</v-btn>\n        <v-btn outlined class=\"ml-2\" v-if=\"givenStory[0].creator === userEmail\" v-on:click=\"removeStory(givenStory[0].id, givenStory[0].storyKey)\">Delete Story</v-btn>\n        \n      </v-card-title>\n\n        <v-card-subtitle>\n        by {{givenStory[0].author}}\n        <v-spacer></v-spacer>\n        Created on {{givenStory[0].dateAdded}} | {{givenStory[0].views}} views\n      </v-card-subtitle>\n\n      <v-card-title>Synopsis</v-card-title>\n      <v-card-text>{{givenStory[0].synopsis}}</v-card-text>\n      \n      <v-card-actions>\n        <v-chip class=\"ml-2\">\n          <v-icon small>mdi-tag</v-icon> Tags\n        </v-chip>\n        <v-chip class=\"ml-2\" color=\"orange\" text-color=\"white\" v-for=\"tag of givenStory[0].tags\" v-bind:key=\"tag['.key']\">\n          {{tag}}\n        </v-chip>\n      </v-card-actions>\n\n      <v-list two-line>\n        <v-card-title class=\"pb-0\">Comments</v-card-title>\n        <div v-for=\"comment of storyComments\" v-bind:key=\"comment['.key']\">\n          <v-list-item class= \"comment\" v-if=\"comment.storyTitle === givenStory[0].title\">\n            <v-list-item-content v-if=\"!currentlyEditing || comment.commentKey !== editCommentKey\">\n              <v-list-item-title class=\"text-wrap\">{{comment.comment}}</v-list-item-title>\n              <v-list-item-subtitle>\n                {{comment.name}} {{comment.dateAdded}}\n              </v-list-item-subtitle>\n            </v-list-item-content>  \n            \n            <v-list-item-action class = \"comment-actions\" v-if=\"!currentlyEditing || comment.commentKey !== editCommentKey\">\n              <v-btn title = \"Edit Comment\" icon v-if=\"userEmail === comment.email\" v-on:click=\"confirmEdit(comment.commentKey, comment.comment)\">\n                <v-icon>mdi-pencil</v-icon>\n              </v-btn>\n            </v-list-item-action>\n            <v-list-item-action class = \"comment-actions\" v-if=\"!currentlyEditing || comment.commentKey !== editCommentKey\">\n              <v-btn title = \"Remove Comment\" icon v-if=\"userEmail === comment.email\" v-on:click=\"removeComment(comment.commentKey, userID)\">\n                <v-icon>mdi-delete</v-icon>\n              </v-btn>\n            </v-list-item-action>\n\n            <v-list-item-content v-if=\"comment.commentKey === editCommentKey\">\n              <form class = \"edit-comment\">\n                <v-text-field v-model=\"commentEdit\"></v-text-field>\n                <v-btn class=\"mb-2\" outlined small v-on:click=\"editComment(comment.commentKey, userID, commentEdit)\">Submit</v-btn>\n              </form>\n            </v-list-item-content>\n          </v-list-item>\n        </div>\n      </v-list>\n\n      <v-card-text class=\"pt-1\">\n        <v-btn outlined small @click=\"showAddComment = true\">Add Comment</v-btn>\n        <div class=\"add-comment\" v-if=\"showAddComment\">\n          <addComment v-if=\"isVerified\" v-bind:givenStoryTitle = \"givenStory[0].title\" />\n          <p v-if=\"!isLoggedIn\"> You need to log in to comment</p>\n        </div>\n      </v-card-text>\n    </v-card>\n\n    <!--<h3>Ratings for Tags:</h3>\n    <div v-for=\"(object,i) in tagsData\" :key=\"i\">\n      <ul v-for=\"(tag,i) in object[givenStory[0].title]\" :key=\"i\">\n        <li>\n          {{tag[0]}}: {{tag[1]}}\n        </li>\n      </ul>\n    </div>-->\n\n    <h3 v-if=\"isDeleted\">This story has been deleted!</h3>\n  </div>\n</template>\n\n<script>\nimport firebase from 'firebase'\nimport storyMixin from \"@/mixins/storyMixin\"\nimport firebaseMixin from \"@/mixins/firebaseMixin\"\nimport browserEditorMixin from \"@/mixins/browserEditorMixin\"\nimport { commentsRef } from \"@/firebaseConfig\"\nimport addComment from '@/components/comments/addComments.vue' \n\nexport default {\n  name: 'Story',\n  components:{\n    addComment,\n  },\n  data (){\n    return{\n      storyID: '',\n      tagsData:[],\n      givenStory:[{}],\n      storyComments: [],\n      givenStoryComments: [],\n      isLoggedIn: false,\n      isVerified: false, \n      showAddComment: false,\n      isMyComment: false,\n      userEmail: '',\n      userID: '',\n      editCommentKey: '',\n      commentEdit: '',\n      currentlyEditing: false,\n      isDeleted: false,\n    }\n  },\n  firebase:{\n    storyComments: commentsRef,\n  },\n  methods: {\n    populateTagsObj(){\n      var arr = []\n      var keys = {}\n      const query = commentsRef.orderByKey();\n      query.once('value')\n        .then(function(snapshot) {\n          snapshot.forEach(function(childSnapshot) {\n            var key = childSnapshot.val().storyTitle;\n            if(typeof keys[key] === \"undefined\"){\n              keys[key] = {}\n            }\n            childSnapshot.val().helpfulTags.forEach(function(tag) {\n              if(typeof keys[key][tag] === \"undefined\"){\n                keys[key][tag] = 0;\n              }\n              keys[key][tag] += 1;\n            })\n          })\n          for(let key in keys){\n            keys[key] = Object.entries(keys[key])\n            keys[key].sort(function(a,b){\n              return b[1]-a[1]\n            })\n            if(keys[key].length>3){\n              keys[key] = keys[key].slice(0,3)\n            }\n          }\n          arr.push(keys)\n        })\n      return arr;\n    },\n    showAdd() {\n      this.ShowAddComments = true;\n    },\n    confirmEdit(commentKey, comment){\n      this.editCommentKey = commentKey;\n      this.commentEdit = comment;\n      this.currentlyEditing = true;\n    },\n  },\n  async created(){\n    if(firebase.auth().currentUser){\n      this.isVerified = firebase.auth().currentUser.emailVerified\n      this.isLoggedIn = firebase.auth().currentUser;\n      this.userEmail = firebase.auth().currentUser.email;\n      this.userID = firebase.auth().currentUser.uid;\n    }\n    this.tagsData = this.populateTagsObj();\n    this.storyID = this.$route.params.id;\n    this.givenStory = await this.getStory(this.storyID)\n\n  \n  },\n  mixins: [storyMixin, browserEditorMixin, firebaseMixin],\n}\n</script>\n\n<style scoped>\n.comment .comment-actions{\n  visibility: hidden;\n}\n.comment:hover .comment-actions{\n  visibility: visible;\n}\n</style>\n"],"sourceRoot":"src/components/stories"}]}
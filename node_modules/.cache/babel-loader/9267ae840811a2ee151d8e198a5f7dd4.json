{"remainingRequest":"/Users/justinwu/Desktop/story_personalization_system/node_modules/babel-loader/lib/index.js!/Users/justinwu/Desktop/story_personalization_system/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Users/justinwu/Desktop/story_personalization_system/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/justinwu/Desktop/story_personalization_system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/justinwu/Desktop/story_personalization_system/src/components/editor/tools/passage/Passage_View.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/justinwu/Desktop/story_personalization_system/src/components/editor/tools/passage/Passage_View.vue","mtime":1604692362839},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBMaXN0X0VsZW1lbnQgZnJvbSAiLi9MaXN0X0VsZW1lbnQudnVlIjsKaW1wb3J0IFBhZ2UgZnJvbSAiQC9qcy9leHR3ZWVfdXRpbHMvUGFnZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAncGFzc2FnZV92aWV3JywKICBwcm9wczogewogICAgcGFnZTogUGFnZSwKICAgIGN1cnJQYXNzYWdlOiBTdHJpbmcKICB9LAogIGNvbXBvbmVudHM6IHsKICAgICdsaXN0LWVsZW1lbnQnOiBMaXN0X0VsZW1lbnQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuYW1lOiB0aGlzLnBhZ2UucGFnZU5hbWUsCiAgICAgIGxpbmtzOiB0aGlzLnBhZ2UubGlua3MsCiAgICAgIG5ld05hbWVWYWw6IHRoaXMucGFnZS5wYWdlTmFtZSwKICAgICAgcHJldk5hbWVWYWw6IHRoaXMucGFnZS5wYWdlTmFtZSwKICAgICAgZWRpdE5hbWU6IGZhbHNlLAogICAgICBzaG93TGlua3M6IGZhbHNlLAogICAgICBkZWxldGU6IGZhbHNlLAogICAgICBsaXN0UmVuZGVyS2V5OiAwCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZW1pdEdvVG86IGZ1bmN0aW9uIGVtaXRHb1RvKCkgewogICAgICB0aGlzLiRlbWl0KCJldnRHb1RvUGFnZSIsIHsKICAgICAgICBuYW1lOiB0aGlzLm5hbWUKICAgICAgfSk7CiAgICB9LAogICAgZW1pdERlbGV0ZTogZnVuY3Rpb24gZW1pdERlbGV0ZSgpIHsKICAgICAgdGhpcy4kZW1pdCgiZXZ0RGVsZXRlIiwgewogICAgICAgIG5hbWU6IHRoaXMubmFtZQogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmVMaW5rOiBmdW5jdGlvbiByZW1vdmVMaW5rKGV2ZW50KSB7CiAgICAgIHRoaXMubGlua3MgPSB0aGlzLmxpbmtzLmZpbHRlcihmdW5jdGlvbiAobGluaykgewogICAgICAgIHJldHVybiBsaW5rLm5hbWUgIT0gZXZlbnQ7CiAgICAgIH0pOwogICAgICB0aGlzLiRlbWl0KCJldnRSZW1vdmVMaW5rIiwgewogICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICByZW1vdmVMaW5rOiBldmVudAogICAgICB9KTsKICAgICAgdGhpcy5saXN0UmVuZGVyS2V5Kys7CiAgICAgIHRoaXMuY2hlY2tSZW5kZXJIaW50cygpOwogICAgfSwKICAgIGFkZExpbms6IGZ1bmN0aW9uIGFkZExpbmsoKSB7CiAgICAgIHRoaXMuJGVtaXQoImV2dEFkZExpbmsiLCB7CiAgICAgICAgbmFtZTogdGhpcy5uYW1lCiAgICAgIH0pOwogICAgfSwKICAgIHNob3dMaXN0OiBmdW5jdGlvbiBzaG93TGlzdCgpIHsKICAgICAgdGhpcy5zaG93TGlua3MgPSAhdGhpcy5zaG93TGlua3M7CiAgICB9LAogICAgc2hvd0VkaXROYW1lOiBmdW5jdGlvbiBzaG93RWRpdE5hbWUoKSB7CiAgICAgIHRoaXMuZWRpdE5hbWUgPSAhdGhpcy5lZGl0TmFtZTsKCiAgICAgIGlmICghdGhpcy5lZGl0TmFtZSkgewogICAgICAgIHRoaXMubmV3TmFtZVZhbCA9IHRoaXMucHJldk5hbWVWYWw7CiAgICAgIH0KICAgIH0sCiAgICBzaG93RGVsZXRlOiBmdW5jdGlvbiBzaG93RGVsZXRlKCkgewogICAgICB0aGlzLmRlbGV0ZSA9ICF0aGlzLmRlbGV0ZTsKICAgIH0sCiAgICB1cGRhdGVQYXNzYWdlTmFtZTogZnVuY3Rpb24gdXBkYXRlUGFzc2FnZU5hbWUoKSB7CiAgICAgIHZhciBwcm9jZXNzID0gdHJ1ZTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wYWdlLnN0b3J5LnBhc3NhZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMucGFnZS5zdG9yeS5wYXNzYWdlc1tpXS5uYW1lID09IHRoaXMubmV3TmFtZVZhbCAmJiB0aGlzLm5ld05hbWVWYWwgIT0gdGhpcy5wcmV2TmFtZVZhbCkgewogICAgICAgICAgcHJvY2VzcyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHByb2Nlc3MpIHsKICAgICAgICB0aGlzLiRlbWl0KCJldnROZXdQYXNzYWdlTmFtZSIsIHsKICAgICAgICAgIHByZXZOYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgICBuZXdOYW1lOiB0aGlzLm5ld05hbWVWYWwKICAgICAgICB9KTsKICAgICAgICB0aGlzLmVkaXROYW1lID0gIXRoaXMuZWRpdE5hbWU7CiAgICAgICAgdGhpcy5wcmV2TmFtZVZhbCA9IHRoaXMubmV3TmFtZVZhbDsKICAgICAgfSBlbHNlIHsKICAgICAgICBhbGVydCgiTmFtZSBhbHJlYWR5IGV4aXN0cyIpOwogICAgICB9CiAgICB9LAogICAgY2hlY2tSZW5kZXJIaW50czogZnVuY3Rpb24gY2hlY2tSZW5kZXJIaW50cygpIHsKICAgICAgaWYgKHRoaXMubGlzdFJlbmRlcktleSA+IDEwKSB7CiAgICAgICAgdGhpcy5saXN0UmVuZGVyS2V5ID0gMDsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Passage_View.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div id = \"passage_view\" v-bind:style = \"currPassage == this.name ? 'border: solid brown;': ''\">\n\n        <div id = \"bar\">\n            <div id = \"delete\" v-if = \"this.delete\">\n                <h4 id = \"sure\">Are You Sure?</h4>\n                <v-btn icon id = \"cancel_del\" v-on:click = \"showDelete\"><v-icon>mdi-close</v-icon></v-btn>\n                <v-btn icon id = \"conf_del\" v-on:click = \"emitDelete\"><v-icon>mdi-check</v-icon></v-btn>\n            </div>\n\n            <div id = \"header\" v-if = \"!this.delete\" :style = \"this.editName ? 'grid-template-columns: 1fr 1fr 5fr 1fr;':''\">\n\n                <v-tooltip bottom>\n                    <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn v-bind=\"attrs\" v-on=\"on\"\n                            icon id = \"goto\" v-on:click = \"emitGoTo\">\n                            <v-icon>mdi-eye</v-icon>\n                        </v-btn>\n                    </template>\n                    <span>Go To \"{{name}}\"</span>\n                </v-tooltip>\n\n                <v-tooltip bottom>\n                    <template v-slot:activator=\"{ on, attrs}\">\n                        <v-btn v-bind=\"attrs\" v-on=\"on\"\n                            icon id = \"link_list_show\" v-on:click = \"showList(); editName = false;\">\n                            <v-icon>{{showLinks ? \"mdi-chevron-down\":\"mdi-chevron-right\"}}</v-icon>\n                        </v-btn>\n                    </template>\n\n                    <span>See Links in \"{{name}}\"</span>\n                </v-tooltip>\n\n                <v-tooltip bottom v-if = \"!this.editName\">\n                    <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn v-bind=\"attrs\" v-on=\"on\"\n                            icon id = \"link_list_show\" v-on:click = \"addLink\">\n                            <v-icon>mdi-plus</v-icon>\n                        </v-btn>\n                    </template>\n                    <span>Add Link To \"{{name}}\" in displayed passage</span>\n                </v-tooltip>\n\n                <button v-if = \"!this.editName\" class = \"sidebar_input no_border bold_text\" v-on:click = \"showEditName\" style = \"cursor: pointer;\">\n                    <h4 v-if = \"!this.editName\" id = \"name\">{{this.name}}</h4>\n                </button>\n\n                <input class = \"sidebar_input bold_text\" v-if = \"this.editName\" v-model = \"newNameVal\" v-on:keyup.esc = \"showEditName\" v-on:keyup.enter = \"updatePassageName\" v-on:blur = \"showEditName\" />\n                \n                <v-tooltip bottom>\n                    <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn v-bind=\"attrs\" v-on=\"on\"\n                            icon id = \"del\" v-on:click = \"showDelete(); editName = false;\">\n                            <v-icon>mdi-delete</v-icon>\n                        </v-btn>\n                    </template>\n                    <span>Delete</span>\n                </v-tooltip>\n                \n            </div>\n        </div>\n\n        <div id = \"links\" v-if = \"this.showLinks\" v-bind:key = \"this.listRenderKey\">\n            <list-element v-for = \"(link, index) in this.links\" v-bind:key = \"index\" v-bind:select = \"false\" v-bind:name = \"link.name\" v-bind:showSelect = \"false\"\n                                                                                v-on:evtRemove = \"removeLink\"></list-element>\n\n            <label v-if = \"this.links.length == 0\">No Links in this Passage</label>\n        </div>            \n        \n    </div>\n</template>\n\n\n<script>\n\nimport List_Element from \"./List_Element.vue\"\n\nimport Page from \"@/js/extwee_utils/Page.js\"\n\nexport default {\n    name: 'passage_view',\n\n    props:{\n        page: Page,\n        currPassage: String\n    },\n\n    components:{\n        'list-element': List_Element\n    },\n\n    data(){\n        return{\n            name: this.page.pageName,\n            links: this.page.links,\n            newNameVal: this.page.pageName,\n            prevNameVal: this.page.pageName,\n\n            editName: false,\n            showLinks: false,\n            delete: false,\n\n            listRenderKey: 0\n        }\n    },\n\n    methods:{\n\n        emitGoTo: function(){\n            this.$emit(\"evtGoToPage\", {name: this.name});\n        },\n\n        emitDelete: function(){\n            this.$emit(\"evtDelete\", {name: this.name});\n        },\n\n        removeLink: function(event){\n\n            this.links = this.links.filter(function(link){\n                return link.name != event;\n            });\n\n            this.$emit(\"evtRemoveLink\", {name: this.name, removeLink: event});\n\n            this.listRenderKey++;\n            this.checkRenderHints();\n        },\n\n        addLink: function(){\n            this.$emit(\"evtAddLink\", {name: this.name});\n        },\n\n        showList: function(){\n            this.showLinks = !this.showLinks;\n        },\n\n        showEditName: function(){\n            this.editName = !this.editName;\n\n            if(!this.editName){\n                this.newNameVal = this.prevNameVal;\n            }\n        },\n\n        showDelete: function(){\n            this.delete = !this.delete;\n        },\n\n        updatePassageName: function(){\n\n            var process = true;\n\n            for(var i = 0; i < this.page.story.passages.length; i++){\n                if(this.page.story.passages[i].name == this.newNameVal && this.newNameVal != this.prevNameVal){\n                    process = false;\n                }\n            }\n\n            if(process){\n                this.$emit(\"evtNewPassageName\", {prevName: this.name, newName: this.newNameVal});\n                this.editName = !this.editName;\n                this.prevNameVal = this.newNameVal;\n            } else{\n                alert(\"Name already exists\");\n            }\n        },\n\n        checkRenderHints: function(){\n            if(this.listRenderKey > 10){\n                this.listRenderKey = 0;\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n\t\n    @keyframes input_anim{\n        from{border-bottom: solid lightgray; border-width: 1px;}\n        to{border-bottom:solid gray; border-width: 1px;}\n\t}\n\n\t.sidebar_input{\n\t\twidth: 100%;\n\t\tborder-bottom: solid lightgray;\n\t\tborder-width: 1px;\n\t\ttext-align: center;\n\t\tborder-radius: 5px;\n\t\toutline:none;\n\t}\n\n\t.sidebar_input:hover{\n\t\tborder-width: 1px;\n\t\tborder-radius: 5px;\n\t\tanimation: input_anim;\n\t\tanimation-fill-mode: forwards;\n\t\tanimation-duration: 500ms;\n\t}\n\n\t.no_border{\n\t\tborder: solid 1px transparent;\n\t\tborder-radius: 0px;\n\t}\n\n    .bold_text{\n        font-size: 15px;\n\t\tfont-weight: bold;\n    }\n\n    #passage_view{\n        display:flex;\n        flex-direction:column;\n        justify-content: space-around;\n        \n        padding: 5px;\n\n        border: solid lightgray;\n\t\tborder-radius: 5px;\n\t\tborder-width: 2px;\n    }\n\n    #links{\n        padding: 5px;\n\n        border: solid lightgray;\n\t\tborder-radius: 5px;\n\t\tborder-width: 1px;\n    }\n\n    #header{\n        display:grid;\n        grid-template-columns: 1fr 1fr 1fr 4fr 1fr;\n    }\n\n    #delete{\n        display:grid;\n        grid-template-columns: 6fr 1fr 1fr;\n    }\n\n    #passageName{\n        border: solid lightgray;\n\t\tborder-radius: 5px;\n\t\tborder-width: 1px;\n\n\t\ttext-align: center;\n\n\t\tfont-size: 15px;\n\t\tfont-weight: bold;\n    }\n\n    #sure{\n        padding-top:0.45rem;\n    }\n\n    button{\n        outline:none;\n    }\n\n    @keyframes border_anim{\n        from{border: solid white;        \n                border-width: 2px;\n                border-radius: 5px;\n                padding: 5px;}\n\n        to{border:solid gray;\n            border-width: 2px;\n            border-radius: 5px;\n            padding: 5px;}\n        }\n\n    .sidebar_button{\n\t\tborder: solid white;\n        border-width: 2px;\n\t\tborder-radius: 5px;\n        padding: 5px;\n\t}\n\n\t.sidebar_button:hover{\n\t\tanimation: border_anim;\n\t\tanimation-fill-mode: forwards;\n\t\tanimation-duration: 500ms;\n\t}\n\n    \n</style>"],"sourceRoot":"src/components/editor/tools/passage"}]}
{"remainingRequest":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/babel-loader/lib/index.js!/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/justinwu/Desktop/Gitlab_MyTale/mytale/src/components/stories/addStory.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/src/components/stories/addStory.vue","mtime":1604692362841},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE5hdkJhciBmcm9tICdAL2NvbXBvbmVudHMvaG9tZXBhZ2UvTmF2QmFyJzsKaW1wb3J0IHN0b3J5TWl4aW4gZnJvbSAiQC9taXhpbnMvc3RvcnlNaXhpbiI7CmltcG9ydCBmaXJlYmFzZU1peGluIGZyb20gIkAvbWl4aW5zL2ZpcmViYXNlTWl4aW4iOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOyAvL2NvbnN0IGFsbFRhZ3MgPSBbIlNheWluZyBTb21ldGhpbmciLCAiQXBvbG9naXppbmciLCAiTWFubmVycyIsICJGcmllbmRzIiwgIlBsYXlpbmciLCAiVGhhbmsgWW91IiwgIkFwb2xvZ2l6aW5nIl07Cgp2YXIgZCA9IG5ldyBEYXRlKCk7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBOYXZCYXI6IE5hdkJhcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFsbFRhZ3M6IFtdLAogICAgICBuZXdTdG9yeTogewogICAgICAgICJ0aXRsZSI6ICIiLAogICAgICAgICJhdXRob3IiOiBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIuZGlzcGxheU5hbWUsCiAgICAgICAgInN5bm9wc2lzIjogIiIsCiAgICAgICAgInRhZ3MiOiBbXSwKICAgICAgICAidmlld3MiOiAwLAogICAgICAgICJkYXRlTm93IjogRGF0ZS5ub3coKSwKICAgICAgICAiZGF0ZUFkZGVkIjogZC5nZXRNb250aCgpICsgMSArICcvJyArIGQuZ2V0RGF0ZSgpICsgJy8nICsgZC5nZXRGdWxsWWVhcigpLAogICAgICAgICJ0ZXh0IjogIiIsCiAgICAgICAgImNyZWF0b3IiOiBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIuZW1haWwKICAgICAgfSwKICAgICAgbmFtZUVycm9yczogIiIsCiAgICAgIGJvZHlFcnJvcnM6ICIiLAogICAgICBhdXRob3JFcnJvcnM6ICIiLAogICAgICBzZWxlY3RFcnJvcnM6ICIiLAogICAgICBuZXdUYWc6ICIiLAogICAgICBub1N0b3J5OiBmYWxzZSwKICAgICAgaXNTdWJtaXR0ZWQ6IGZhbHNlLAogICAgICBhZGRpbmdUYWc6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2xpY2tBZGRUYWc6IGZ1bmN0aW9uIGNsaWNrQWRkVGFnKCkgewogICAgICB0aGlzLmFkZGluZ1RhZyA9IHRydWU7CiAgICB9LAogICAgdXBkYXRlVGFnczogZnVuY3Rpb24gdXBkYXRlVGFncygpIHsKICAgICAgdGhpcy5hbGxUYWdzID0gdGhpcy5nZXRUYWdzKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5uZXdTdG9yeS50ZXh0ID0gdGhpcy4kc3RvcmUuc3RhdGUuc3RvcnlUb1B1Ymxpc2g7CgogICAgaWYgKHRoaXMubmV3U3RvcnkudGV4dC5sZW5ndGggPT09IDApIHsKICAgICAgdGhpcy5ub1N0b3J5ID0gdHJ1ZTsKICAgIH0KCiAgICB0aGlzLmFsbFRhZ3MgPSB0aGlzLmdldFRhZ3MoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBjb21wdXRlZDogewogICAgZm9ybUNvbXBsZXRlOiBmdW5jdGlvbiBmb3JtQ29tcGxldGUoKSB7CiAgICAgIGlmICh0aGlzLm5ld1N0b3J5LnRhZ3MubGVuZ3RoID4gMCAmJiB0aGlzLm5ld1N0b3J5LnRpdGxlLmxlbmd0aCA8PSAzMCkgewogICAgICAgIHJldHVybiB0aGlzLm5ld1N0b3J5LnRpdGxlICYmIHRoaXMubmV3U3RvcnkuYXV0aG9yICYmIHRoaXMubmV3U3Rvcnkuc3lub3BzaXMgJiYgdGhpcy5uZXdTdG9yeS50ZXh0OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGFkZGVkVGFnOiBmdW5jdGlvbiBhZGRlZFRhZygpIHsKICAgICAgcmV0dXJuIHRoaXMubmV3VGFnLmxlbmd0aCA+IDA7CiAgICB9CiAgfSwKICBtaXhpbnM6IFtzdG9yeU1peGluLCBmaXJlYmFzZU1peGluXQp9Ow=="},{"version":3,"sources":["addStory.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,OAAA,MAAA,MAAA,8BAAA;AACA,OAAA,UAAA,MAAA,qBAAA;AACA,OAAA,aAAA,MAAA,wBAAA;AACA,OAAA,QAAA,MAAA,UAAA,C,CAEA;;AACA,IAAA,CAAA,GAAA,IAAA,IAAA,EAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AACA,iBAAA,EADA;AAEA,kBAAA,QAAA,CAAA,IAAA,GAAA,WAAA,CAAA,WAFA;AAGA,oBAAA,EAHA;AAIA,gBAAA,EAJA;AAKA,iBAAA,CALA;AAMA,mBAAA,IAAA,CAAA,GAAA,EANA;AAOA,qBAAA,CAAA,CAAA,QAAA,KAAA,CAAA,GAAA,GAAA,GAAA,CAAA,CAAA,OAAA,EAAA,GAAA,GAAA,GAAA,CAAA,CAAA,WAAA,EAPA;AAQA,gBAAA,EARA;AASA,mBAAA,QAAA,CAAA,IAAA,GAAA,WAAA,CAAA;AATA,OAFA;AAaA,MAAA,UAAA,EAAA,EAbA;AAcA,MAAA,UAAA,EAAA,EAdA;AAeA,MAAA,YAAA,EAAA,EAfA;AAgBA,MAAA,YAAA,EAAA,EAhBA;AAiBA,MAAA,MAAA,EAAA,EAjBA;AAkBA,MAAA,OAAA,EAAA,KAlBA;AAmBA,MAAA,WAAA,EAAA,KAnBA;AAoBA,MAAA,SAAA,EAAA;AApBA,KAAA;AAsBA,GA3BA;AA4BA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,WAAA,SAAA,GAAA,IAAA;AACA,KAHA;AAIA,IAAA,UAJA,wBAIA;AACA,WAAA,OAAA,GAAA,KAAA,OAAA,EAAA;AACA;AANA,GA5BA;AAoCA,EAAA,OApCA,qBAoCA;AACA,SAAA,QAAA,CAAA,IAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,cAAA;;AACA,QAAA,KAAA,QAAA,CAAA,IAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACA;;AACA,SAAA,OAAA,GAAA,KAAA,OAAA,EAAA;AACA,GA1CA;AA2CA,EAAA,OA3CA,qBA2CA,CAEA,CA7CA;AA8CA,EAAA,QAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,UAAA,KAAA,QAAA,CAAA,IAAA,CAAA,MAAA,GAAA,CAAA,IAAA,KAAA,QAAA,CAAA,KAAA,CAAA,MAAA,IAAA,EAAA,EAAA;AACA,eAAA,KAAA,QAAA,CAAA,KAAA,IAAA,KAAA,QAAA,CAAA,MAAA,IAAA,KAAA,QAAA,CAAA,QAAA,IAAA,KAAA,QAAA,CAAA,IAAA;AACA,OAFA,MAGA;AACA,eAAA,KAAA;AACA;AACA,KARA;AASA,IAAA,QATA,sBASA;AACA,aAAA,KAAA,MAAA,CAAA,MAAA,GAAA,CAAA;AACA;AAXA,GA9CA;AA2DA,EAAA,MAAA,EAAA,CAAA,UAAA,EAAA,aAAA;AA3DA,CAAA","sourcesContent":["<template>\n  <v-app>\n    <NavBar />\n    <form v-if=\"!isSubmitted && !noStory\">\n      <h2>Add a New Story</h2>\n      <v-text-field\n        v-model=\"newStory.title\"\n        :error-messages=\"nameErrors\"\n        :counter=\"30\"\n        label=\"Story Title\"\n        required\n      />\n      <v-text-field\n        v-model=\"newStory.synopsis\"\n        :error-messages=\"bodyErrors\"\n        label=\"Synopsis\"\n        required\n      />\n      <v-select\n        v-model=\"newStory.tags\"\n        :items=\"allTags\"\n        :multiple=\"true\"\n        :error-messages=\"selectErrors\"\n        label=\"Tags\"\n        required\n      />\n\n      <v-text-field\n        v-model=\"newTag\"\n        label=\"Add New Tag\"\n        required\n        v-on:click=\"clickAddTag()\"\n      />\n\n      <v-btn v-if=\"addingTag\" :disabled=\"!addedTag\" v-on:click=\"addTag(newTag), updateTags()\">Add Tag</v-btn>\n      <br>\n      <v-btn :disabled=\"!formComplete\" v-on:click=\"addStory(newStory)\">Submit Story</v-btn>\n    </form>\n    <h2 v-if=\"noStory\">No story has been chosen, please choose a story to submit.</h2>\n    <h2 v-if=\"isSubmitted\">Your story has been submitted!</h2>\n  </v-app>\n</template>\n\n<script>\n\nimport NavBar from '@/components/homepage/NavBar';\nimport storyMixin from \"@/mixins/storyMixin\";\nimport firebaseMixin from \"@/mixins/firebaseMixin\";\nimport firebase from 'firebase';\n\n//const allTags = [\"Saying Something\", \"Apologizing\", \"Manners\", \"Friends\", \"Playing\", \"Thank You\", \"Apologizing\"];\nvar d = new Date();\n\nexport default {\n  components:{\n    NavBar,\n  },\n  data (){\n    return{\n      allTags: [],\n      newStory:{\n        \"title\": \"\",\n        \"author\": firebase.auth().currentUser.displayName,\n        \"synopsis\": \"\",\n        \"tags\": [],\n        \"views\": 0,\n        \"dateNow\": Date.now(),\n        \"dateAdded\": d.getMonth()+1+'/'+d.getDate()+'/'+d.getFullYear(),\n        \"text\": \"\",\n        \"creator\": firebase.auth().currentUser.email,\n      },\n      nameErrors:\"\",\n      bodyErrors:\"\",\n      authorErrors:\"\",\n      selectErrors:\"\",\n      newTag: \"\",\n      noStory: false,\n      isSubmitted: false,\n      addingTag: false,\n    }\n  },\n  methods: {\n    clickAddTag(){\n      this.addingTag = true;\n    },\n    updateTags(){\n      this.allTags = this.getTags()\n    }\n  },\n  created() {\n    this.newStory.text = this.$store.state.storyToPublish;\n    if(this.newStory.text.length === 0){\n      this.noStory = true;\n    }\n    this.allTags = this.getTags()\n  },\n  mounted() {\n  \n  },\n  computed:{\n    formComplete () {\n      if(this.newStory.tags.length > 0 && this.newStory.title.length<=30){\n        return this.newStory.title && this.newStory.author && this.newStory.synopsis && this.newStory.text\n      } \n      else{\n        return false\n      }\n    },\n    addedTag(){\n      return (this.newTag.length > 0)\n    },\n  },\n  mixins: [storyMixin, firebaseMixin]\n}\n</script>\n\n<style scoped>\nform{\n  margin-left: 30px;\n  margin-right: 30px;\n}\n#content {\n    font-family: Verdana, Geneva, sans-serif;\n    line-height: 1.8;\n    background-color: ivory;\n  }\n</style>\n"],"sourceRoot":"src/components/stories"}]}
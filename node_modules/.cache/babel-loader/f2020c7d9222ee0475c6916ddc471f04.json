{"remainingRequest":"/Users/justinwu/Desktop/story_personalization_system/node_modules/babel-loader/lib/index.js!/Users/justinwu/Desktop/story_personalization_system/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Users/justinwu/Desktop/story_personalization_system/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/justinwu/Desktop/story_personalization_system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/justinwu/Desktop/story_personalization_system/src/components/editor/text/Text_Editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/justinwu/Desktop/story_personalization_system/src/components/editor/text/Text_Editor.vue","mtime":1604692362837},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFRleHRfVGlwdGFwIGZyb20gIi4vVGV4dF9UaXB0YXAudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ0ZXh0LWVkaXRvciIsCiAgY29tcG9uZW50czogewogICAgInRleHQtdGlwdGFwIjogVGV4dF9UaXB0YXAKICB9LAogIHByb3BzOiB7CiAgICBkaXNwVGV4dDogU3RyaW5nLAogICAgbGlua1RleHQ6IFN0cmluZywKICAgIHRoZW1lOiBTdHJpbmcKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlZGl0aW5nOiBmYWxzZSwKICAgICAgZWRpdE9wdGlvbnM6IGZhbHNlLAogICAgICB0ZXh0VmFsdWU6IHRoaXMuZGlzcFRleHQsCiAgICAgIGxpbmtUZXh0VmFsdWU6IHRoaXMubGlua1RleHQsCiAgICAgIHJlbmRlcktleTogMAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBlZGl0TGlua1RleHRWYWx1ZTogZnVuY3Rpb24gZWRpdExpbmtUZXh0VmFsdWUoKSB7CiAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmxpbmtUZXh0VmFsdWU7CiAgICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKC9cbi9nLCAiPGJyPiIpOwogICAgICBzb3VyY2UgPSBzb3VyY2UucmVwbGFjZSgvJnF1b3Q7L2csICciJyk7CiAgICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKC8mIzM5Oy9nLCAiJyIpOwogICAgICBzb3VyY2UgPSBzb3VyY2UucmVwbGFjZSgvJmx0Oy9nLCAiPCIpOwogICAgICBzb3VyY2UgPSBzb3VyY2UucmVwbGFjZSgvJmd0Oy9nLCAiPiIpOwogICAgICByZXR1cm4gIjxwPiIgKyBzb3VyY2UgKyAiPC9wPiI7CiAgICB9LAogICAgZW1pdExpbmtUZXh0VmFsdWU6IGZ1bmN0aW9uIGVtaXRMaW5rVGV4dFZhbHVlKCkgewogICAgICB2YXIgc291cmNlID0gdGhpcy5saW5rVGV4dFZhbHVlOwogICAgICBzb3VyY2UgPSBzb3VyY2UucmVwbGFjZSgvPHA+L2csICIiKTsKICAgICAgc291cmNlID0gc291cmNlLnJlcGxhY2UoLzxcL3A+L2csICJcbiIpOwogICAgICBzb3VyY2UgPSBzb3VyY2UucmVwbGFjZSgvIi9nLCAiJnF1b3Q7Iik7CiAgICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKC8nL2csICImIzM5OyIpOwogICAgICBzb3VyY2UgPSBzb3VyY2UucmVwbGFjZSgvPC9nLCAiJmx0OyIpOwogICAgICBzb3VyY2UgPSBzb3VyY2UucmVwbGFjZSgvPi9nLCAiJmd0OyIpOwogICAgICByZXR1cm4gc291cmNlLnRyaW0oKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZVBhc3NhZ2U6IGZ1bmN0aW9uIHVwZGF0ZVBhc3NhZ2UoZXZlbnQpIHsKICAgICAgdGhpcy5saW5rVGV4dFZhbHVlID0gZXZlbnQucmVwbGFjZSgvPGJyPi9nLCAiXG4iKTsgLy8gY29uc29sZS5sb2codGhpcy5lbWl0TGlua1RleHRWYWx1ZSk7CgogICAgICB0aGlzLiRlbWl0KCJldnRQYXNzYWdlQ2hhbmdlIiwgdGhpcy5lbWl0TGlua1RleHRWYWx1ZSk7CiAgICAgIHRoaXMucmVuZGVyS2V5LS07CiAgICB9LAogICAgc3dpdGNoRWRpdDogZnVuY3Rpb24gc3dpdGNoRWRpdCgpIHsKICAgICAgdGhpcy5lZGl0aW5nID0gIXRoaXMuZWRpdGluZzsKICAgICAgdGhpcy5lZGl0T3B0aW9ucyA9IGZhbHNlOwogICAgICB0aGlzLnJlbmRlcktleSsrOwogICAgfSwKICAgIHNob3dFZGl0T3B0aW9uczogZnVuY3Rpb24gc2hvd0VkaXRPcHRpb25zKCkgewogICAgICB0aGlzLmVkaXRPcHRpb25zID0gIXRoaXMuZWRpdE9wdGlvbnM7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Text_Editor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,WAAA,MAAA,mBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAGA,EAAA,UAAA,EAAA;AACA,mBAAA;AADA,GAHA;AAOA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA,MADA;AAEA,IAAA,QAAA,EAAA,MAFA;AAGA,IAAA,KAAA,EAAA;AAHA,GAPA;AAaA,EAAA,IAbA,kBAaA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,WAAA,EAAA,KAFA;AAGA,MAAA,SAAA,EAAA,KAAA,QAHA;AAIA,MAAA,aAAA,EAAA,KAAA,QAJA;AAMA,MAAA,SAAA,EAAA;AANA,KAAA;AAQA,GAtBA;AAwBA,EAAA,QAAA,EAAA;AACA,IAAA,iBAAA,EAAA,6BAAA;AACA,UAAA,MAAA,GAAA,KAAA,aAAA;AACA,MAAA,MAAA,GAAA,MAAA,CAAA,OAAA,CAAA,KAAA,EAAA,MAAA,CAAA;AAEA,MAAA,MAAA,GAAA,MAAA,CAAA,OAAA,CAAA,SAAA,EAAA,GAAA,CAAA;AACA,MAAA,MAAA,GAAA,MAAA,CAAA,OAAA,CAAA,QAAA,EAAA,GAAA,CAAA;AACA,MAAA,MAAA,GAAA,MAAA,CAAA,OAAA,CAAA,OAAA,EAAA,GAAA,CAAA;AACA,MAAA,MAAA,GAAA,MAAA,CAAA,OAAA,CAAA,OAAA,EAAA,GAAA,CAAA;AACA,aAAA,QAAA,MAAA,GAAA,MAAA;AACA,KAVA;AAYA,IAAA,iBAAA,EAAA,6BAAA;AACA,UAAA,MAAA,GAAA,KAAA,aAAA;AAEA,MAAA,MAAA,GAAA,MAAA,CAAA,OAAA,CAAA,MAAA,EAAA,EAAA,CAAA;AACA,MAAA,MAAA,GAAA,MAAA,CAAA,OAAA,CAAA,QAAA,EAAA,IAAA,CAAA;AAEA,MAAA,MAAA,GAAA,MAAA,CAAA,OAAA,CAAA,IAAA,EAAA,QAAA,CAAA;AACA,MAAA,MAAA,GAAA,MAAA,CAAA,OAAA,CAAA,IAAA,EAAA,OAAA,CAAA;AACA,MAAA,MAAA,GAAA,MAAA,CAAA,OAAA,CAAA,IAAA,EAAA,MAAA,CAAA;AACA,MAAA,MAAA,GAAA,MAAA,CAAA,OAAA,CAAA,IAAA,EAAA,MAAA,CAAA;AAEA,aAAA,MAAA,CAAA,IAAA,EAAA;AACA;AAxBA,GAxBA;AAmDA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,KADA,EACA;AACA,WAAA,aAAA,GAAA,KAAA,CAAA,OAAA,CAAA,OAAA,EAAA,IAAA,CAAA,CADA,CAGA;;AAEA,WAAA,KAAA,CAAA,kBAAA,EAAA,KAAA,iBAAA;AACA,WAAA,SAAA;AACA,KARA;AAUA,IAAA,UAAA,EAAA,sBAAA;AACA,WAAA,OAAA,GAAA,CAAA,KAAA,OAAA;AACA,WAAA,WAAA,GAAA,KAAA;AACA,WAAA,SAAA;AACA,KAdA;AAgBA,IAAA,eAAA,EAAA,2BAAA;AACA,WAAA,WAAA,GAAA,CAAA,KAAA,WAAA;AACA;AAlBA;AAnDA,CAAA","sourcesContent":["<template>\n  <div id=\"edit_field\">\n\n    <button v-on:click=\"switchEdit\" style=\"cursor: pointer;\">\n      <div v-if=\"!this.editing\" id=\"not_editing\">\n        <v-card-text id=\"text_display\"><span v-html=\"this.textValue\"></span></v-card-text>\n      </div>\n    </button>\n\n    <div v-if=\"this.editing\" id=\"is_editing\">\n        \n      <text-tiptap\n        v-bind:text=\"this.editLinkTextValue\"\n        id=\"text_edit\"\n        v-on:evtPassageChange=\"updatePassage\"\n        v-bind:key=\"this.renderKey\"\n        v-bind:class=\"this.theme\"\n      />\n\n    </div>\n\n    <div id = \"edit_options\" v-if = \"this.editOptions\" style = \"display:flex; flex-direction:row; justify-content: space-around; border-top: solid 2px lightgray; padding: 5px;\">\n      <v-btn id = \"confirm_edit\" style = \"width: 20%;\" v-on:click = \"switchEdit\">Edit</v-btn>\n      <v-btn id = \"cancel_edit\" style = \"width: 20%;\" v-on:click = \"showEditOptions\">Cancel</v-btn>\n    \n    </div>\n\n  </div>\n</template>\n\n<script>\nimport Text_Tiptap from \"./Text_Tiptap.vue\";\n\nexport default {\n  name: \"text-editor\",\n\n  components: {\n    \"text-tiptap\": Text_Tiptap\n  },\n\n  props: {\n    dispText: String,\n    linkText: String,\n    theme: String\n  },\n\n  data() {\n    return {\n      editing: false,\n      editOptions: false,\n      textValue: this.dispText,\n      linkTextValue: this.linkText,\n\n      renderKey: 0\n    };\n  },\n\n  computed: {\n    editLinkTextValue: function() {\n      var source = this.linkTextValue;\n      source = source.replace(/\\n/g, \"<br>\");\n\n      source = source.replace(/&quot;/g, '\"');\n      source = source.replace(/&#39;/g, \"'\");\n      source = source.replace(/&lt;/g, \"<\");\n      source = source.replace(/&gt;/g, \">\");\n      return \"<p>\" + source + \"</p>\";\n    },\n\n    emitLinkTextValue: function() {\n      var source = this.linkTextValue;\n\n      source = source.replace(/<p>/g, \"\");\n      source = source.replace(/<\\/p>/g, \"\\n\");\n\n      source = source.replace(/\"/g, \"&quot;\");\n      source = source.replace(/'/g, \"&#39;\");\n      source = source.replace(/</g, \"&lt;\");\n      source = source.replace(/>/g, \"&gt;\");\n\n      return source.trim();\n    }\n  },\n\n  methods: {\n    updatePassage(event) {\n      this.linkTextValue = event.replace(/<br>/g, \"\\n\");\n\n      // console.log(this.emitLinkTextValue);\n\n      this.$emit(\"evtPassageChange\", this.emitLinkTextValue);\n      this.renderKey--;\n    },\n\n    switchEdit: function() {\n      this.editing = !this.editing;\n      this.editOptions = false;\n      this.renderKey++;\n    },\n\n    showEditOptions: function(){\n      this.editOptions = !this.editOptions;\n    }\n  }\n};\n</script>\n\n<style scoped>\n@keyframes border_anim {\n  from {\n    border: solid gray;\n  }\n  to {\n    border: solid black;\n  }\n}\n\n#edit_field {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n}\n\n#not_editing {\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  justify-content: space-around;\n  padding: 20px;\n}\n#text_display {\n  white-space: pre-wrap;\n}\n\n#is_editing {\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  justify-content: space-around;\n\n  padding: 10px;\n}\n\n#cancel_button {\n  width: 15%;\n}\n\n#text_edit {\n  box-sizing: content-box;\n}\n\n.editor_button {\n  align-content: left;\n  border: solid white;\n  border-width: 5px;\n  border-radius: 5px;\n}\n\n.editor_button:hover {\n  border-width: 5px;\n  border-radius: 5px;\n  animation: border_anim;\n  animation-fill-mode: forwards;\n  animation-duration: 500ms;\n}\n\n.divider {\n  grid-area: divider;\n  width: auto;\n  height: 20px;\n  display: inline-block;\n}\n\nbutton{\n  outline:none;\n}\n</style>\n"],"sourceRoot":"src/components/editor/text"}]}
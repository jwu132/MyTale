{"remainingRequest":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/babel-loader/lib/index.js!/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/justinwu/Desktop/Gitlab_MyTale/mytale/src/components/users/userProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/src/components/users/userProfile.vue","mtime":1604692362841},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/Gitlab_MyTale/mytale/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgdXNlclZhcmlhYmxlcyBmcm9tICdAL2NvbXBvbmVudHMvdXNlcnMvdXNlclZhcmlhYmxlcy52dWUnOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwppbXBvcnQgZmlyZWJhc2VNaXhpbiBmcm9tICdAL21peGlucy9maXJlYmFzZU1peGluJzsKaW1wb3J0IHN0b3J5TWl4aW4gZnJvbSAnQC9taXhpbnMvc3RvcnlNaXhpbic7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcklEOiBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudWlkLAogICAgICB1c2VyRW1haWw6IGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci5lbWFpbCwKICAgICAgdXNlck5hbWU6IGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci5kaXNwbGF5TmFtZSwKICAgICAgbXlDb21tZW50czogW10sCiAgICAgIG15U3RvcmllczogW10sCiAgICAgIG15U3RvcnlEcmFmdHM6IFtdLAogICAgICBoYXNTdG9yaWVzOiBmYWxzZSwKICAgICAgaXNWZXJpZmllZDogZmFsc2UsCiAgICAgIHJlbG9hZEtleTogMCwKICAgICAgZWRpdENvbW1lbnRLZXk6ICcnLAogICAgICBjb21tZW50RWRpdDogJycsCiAgICAgIGN1cnJlbnRseUVkaXRpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgdXNlclZhcmlhYmxlczogdXNlclZhcmlhYmxlcwogIH0sCiAgbWV0aG9kczogewogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduT3V0KCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgbG9jYXRpb24ucmVwbGFjZSgiYWNjb3VudC5odG1sIik7CiAgICAgIH0pOwogICAgfSwKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oZXZlbnQpIHsKICAgICAgdmFyIHVzZXJQcm9maWxlID0ge307CiAgICAgIHZhciBpOwoKICAgICAgZm9yIChpID0gMDsgaSA8IGV2ZW50LnByb2ZpbGUubGVuZ3RoOyBpKyspIHsKICAgICAgICB1c2VyUHJvZmlsZVtldmVudC52YXJOYW1lc1tpXV0gPSBldmVudC5wcm9maWxlW2ldOwogICAgICB9CgogICAgICB2YXIgdXBkYXRlcyA9IHt9OwogICAgICB1cGRhdGVzWycvYWNjb3VudHMvJyArIGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci51aWQgKyAnL3Byb2ZpbGUnXSA9IHVzZXJQcm9maWxlOwogICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigpLnVwZGF0ZSh1cGRhdGVzKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvcm1Nc2ciKS5pbm5lckhUTUwgPSAiWW91ciBzdG9yeSB2YXJpYWJsZXMgaGF2ZSBiZWVuIHN1Y2Nlc3NmdWxseSB1cGRhdGVkLiI7CiAgICB9LAogICAgc2F2ZU5ld1ZhcjogZnVuY3Rpb24gc2F2ZU5ld1ZhcihldmVudCkgewogICAgICAvLyB0aGlzLm9wZW5OZXcgPSBmYWxzZTsKICAgICAgdmFyIHVzZXJQcm9maWxlID0ge307CiAgICAgIHZhciBpOwoKICAgICAgZm9yIChpID0gMDsgaSA8IGV2ZW50LnByb2ZpbGUubGVuZ3RoOyBpKyspIHsKICAgICAgICB1c2VyUHJvZmlsZVtldmVudC52YXJOYW1lc1tpXV0gPSBldmVudC5wcm9maWxlW2ldOwogICAgICB9CgogICAgICB1c2VyUHJvZmlsZVtldmVudC52YXJOYW1lXSA9IGV2ZW50LnZhclZhbDsKICAgICAgdmFyIHVwZGF0ZXMgPSB7fTsKICAgICAgdXBkYXRlc1snL2FjY291bnRzLycgKyBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudWlkICsgJy9wcm9maWxlJ10gPSB1c2VyUHJvZmlsZTsKICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoKS51cGRhdGUodXBkYXRlcyk7CiAgICAgIHRoaXMucmVsb2FkS2V5ICs9IDE7CiAgICB9LAogICAgZGVsZXRlVmFyOiBmdW5jdGlvbiBkZWxldGVWYXIoZXZlbnQpIHsKICAgICAgaWYgKGNvbmZpcm0oIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyB2YXJpYWJsZT8iKSkgewogICAgICAgIHZhciB1c2VyUHJvZmlsZSA9IHt9OwogICAgICAgIHZhciBpOwoKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZXZlbnQucHJvZmlsZS5sZW5ndGg7IGkrKykgewogICAgICAgICAgdXNlclByb2ZpbGVbZXZlbnQudmFyTmFtZXNbaV1dID0gZXZlbnQucHJvZmlsZVtpXTsKICAgICAgICB9CgogICAgICAgIHVzZXJQcm9maWxlW2V2ZW50LnZhck5hbWVdID0gbnVsbDsKICAgICAgICB2YXIgdXBkYXRlcyA9IHt9OwogICAgICAgIHVwZGF0ZXNbJy9hY2NvdW50cy8nICsgZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLnVpZCArICcvcHJvZmlsZSddID0gdXNlclByb2ZpbGU7CiAgICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoKS51cGRhdGUodXBkYXRlcyk7CiAgICAgICAgdGhpcy5yZWxvYWRLZXkgKz0gMTsKICAgICAgfQogICAgfSwKICAgIGdldFN0b3J5RHJhZnRzOiBmdW5jdGlvbiBnZXRTdG9yeURyYWZ0cygpIHsKICAgICAgdmFyIGFyciA9IFtdOwogICAgICB2YXIgc3RvcmFnZVJlZiA9IGZpcmViYXNlLnN0b3JhZ2UoKS5yZWYodGhpcy51c2VyRW1haWwpOwogICAgICBzdG9yYWdlUmVmLmxpc3RBbGwoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgZGF0YS5wcmVmaXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChmb2xkZXJSZWYpIHsKICAgICAgICAgIHZhciBkcmFmdE9iaiA9IHsKICAgICAgICAgICAgJ25hbWUnOiAnJywKICAgICAgICAgICAgJ2RhdGUnOiAnJwogICAgICAgICAgfTsKICAgICAgICAgIGRyYWZ0T2JqLm5hbWUgPSBmb2xkZXJSZWYubmFtZTsKICAgICAgICAgIGZvbGRlclJlZi5saXN0QWxsKCkudGhlbihmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgICAgICAgY2hpbGQuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAodHdlZVJlZikgewogICAgICAgICAgICAgIHR3ZWVSZWYuZ2V0TWV0YWRhdGEoKS50aGVuKGZ1bmN0aW9uIChtZXRhZGF0YSkgewogICAgICAgICAgICAgICAgdmFyIHVwZGF0ZURhdGUgPSBtZXRhZGF0YS51cGRhdGVkLnN1YnN0cmluZygwLCAxMCk7CiAgICAgICAgICAgICAgICB1cGRhdGVEYXRlID0gdXBkYXRlRGF0ZS5zdWJzdHJpbmcoNSwgNykgKyAnLycgKyB1cGRhdGVEYXRlLnN1YnN0cmluZyg4LCAxMCkgKyAnLycgKyB1cGRhdGVEYXRlLnN1YnN0cmluZygwLCA0KTsKICAgICAgICAgICAgICAgIGRyYWZ0T2JqLmRhdGUgPSB1cGRhdGVEYXRlOwogICAgICAgICAgICAgICAgYXJyLnB1c2goZHJhZnRPYmopOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgcmV0dXJuIGFycjsKICAgIH0sCiAgICBnb1RvRWRpdG9yOiBmdW5jdGlvbiBnb1RvRWRpdG9yKHN0b3J5VHdlZVRleHQsIE9Hc3RvcnlUZXh0KSB7CiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImNyZWF0ZVRlbXBsYXRlIiwgIiIpOwogICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJPR3N0b3J5UGFzc2FnZXMiLCBPR3N0b3J5VGV4dCk7CiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInN0b3J5TG9jYXRpb24iLCAiIik7CiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInN0b3J5Q29udGVudCIsIHN0b3J5VHdlZVRleHQpOwogICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgbGluay5ocmVmID0gImVkaXRvci5odG1sIjsKICAgICAgbGluay5jbGljaygpOwogICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGxpbmsuaHJlZik7CiAgICB9LAogICAgY29uZmlybUVkaXQ6IGZ1bmN0aW9uIGNvbmZpcm1FZGl0KGNvbW1lbnRLZXksIGNvbW1lbnQpIHsKICAgICAgdGhpcy5lZGl0Q29tbWVudEtleSA9IGNvbW1lbnRLZXk7CiAgICAgIHRoaXMuY29tbWVudEVkaXQgPSBjb21tZW50OwogICAgICB0aGlzLmN1cnJlbnRseUVkaXRpbmcgPSB0cnVlOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmIChmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIpIHsKICAgICAgdGhpcy5pc1ZlcmlmaWVkID0gZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLmVtYWlsVmVyaWZpZWQ7CiAgICB9CgogICAgdGhpcy5teVN0b3JpZXMgPSB0aGlzLnJldHJpZXZlVXNlclN0b3JpZXModGhpcy51c2VyRW1haWwpOwogICAgdGhpcy5teVN0b3J5RHJhZnRzID0gdGhpcy5nZXRTdG9yaWVzV2l0aERyYWZ0cyh0aGlzLnVzZXJJRCk7CiAgICB0aGlzLm15Q29tbWVudHMgPSB0aGlzLmdldFVzZXJDb21tZW50cyh0aGlzLnVzZXJJRCk7CgogICAgaWYgKHRoaXMudXNlck5hbWUgPT0gbnVsbCkgewogICAgICB0aGlzLnVzZXJOYW1lID0gZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLmVtYWlsOwogICAgfQogIH0sCiAgbWl4aW5zOiBbZmlyZWJhc2VNaXhpbiwgc3RvcnlNaXhpbl0KfTs="},{"version":3,"sources":["userProfile.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-app class=\"blue-grey lighten-5\">\n    <div v-if=\"isVerified\" class = 'user-profile'>\n      <div class=\"py-3\"></div>\n      <v-card flat class=\"container\">\n        <v-card-title>\n          Welcome back, {{this.userName}}\n          <v-spacer></v-spacer>\n          <v-btn small outlined v-on:click=\"logout\">Logout</v-btn>\n        </v-card-title>\n      </v-card>\n\n      <br>\n      <v-card flat class=\"container\">\n        <v-card-title class=\"pb-0\">My Stories</v-card-title>\n        <v-list two-line>\n          <v-row>\n          <v-col v-for='story of myStories' v-bind:key=\"story['.key']\" cols=\"12\" md=\"6\">\n            <v-list-item class=\"storyEntry\">\n              <v-list-item-content class=\"pa-0\">\n                <router-link :to=\"{name: 'Story', params: {title:removeTitleSpaces(story.title), id: story.id}}\" class=\"storyLinks\">\n                  <v-list-item-title>{{story.title}}</v-list-item-title>\n                </router-link>\n                <v-list-item-subtitle>Created on {{story.dateAdded}} Views: {{story.views}}</v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n          </v-col>\n        </v-row>\n        </v-list>\n      </v-card>\n\n      <br>\n      <v-card flat class=\"container\">\n        <v-card-title class=\"pb-0\">Story Drafts</v-card-title>\n        <v-list two-line v-for='story of myStoryDrafts' v-bind:key=\"story['.key']\">\n          <v-list-item class=\"storyEntry\" v-for='title of Object.keys(story)' v-bind:key=\"title['.key']\">\n            <v-list-item-content class=\"pa-0\">\n              <v-list-item-title>\n                <strong>{{title}}</strong>\n              </v-list-item-title>\n              <v-list-item-subtitle>Updated on {{story[title].dateUpdated}}</v-list-item-subtitle>\n            </v-list-item-content>\n\n            <v-list-item-action class = \"draft-actions\">\n              <v-btn title = \"Edit Draft\" icon v-on:click=\"goToEditor(story[title].text, story[title].OGstory)\">\n                <v-icon>mdi-pencil</v-icon>\n                </v-btn>\n            </v-list-item-action>\n            <v-list-item-action class = \"draft-actions\">\n              <v-btn title = \"Delete Draft\" icon v-on:click=\"removeStoryDrafts(title)\">\n                <v-icon>mdi-delete</v-icon>\n              </v-btn>\n            </v-list-item-action>\n\n          </v-list-item>\n        </v-list>\n      </v-card>\n\n      <br>\n      <v-card flat class=\"container\">\n        <v-card-title class=\"pb-0\">My Comments</v-card-title>\n        <v-list two-line>\n          <v-list-item class= \"comment\" v-for='comment of myComments' v-bind:key=\"comment['.key']\">\n            <v-list-item-content v-if=\"!currentlyEditing || comment.commentKey !== editCommentKey\">\n              <v-list-item-title class=\"text-wrap\">{{comment.comment}}</v-list-item-title>\n              <v-list-item-subtitle>\n                {{comment.storyTitle}} {{comment.dateAdded}}\n              </v-list-item-subtitle>\n            </v-list-item-content>\n\n            <v-list-item-action class = \"comment-actions\" v-if=\"!currentlyEditing || comment.commentKey !== editCommentKey\">\n              <v-btn title = \"Edit Comment\" icon v-on:click=\"confirmEdit(comment.commentKey, comment.comment)\">\n                <v-icon>mdi-pencil</v-icon>\n              </v-btn>\n            </v-list-item-action>\n            <v-list-item-action class = \"comment-actions\" v-if=\"!currentlyEditing || comment.commentKey !== editCommentKey\">\n              <v-btn title = \"Remove Comment\" icon v-on:click=\"removeComment(comment.commentKey, userID)\">\n                <v-icon>mdi-delete</v-icon>\n              </v-btn>\n            </v-list-item-action>\n\n            <v-list-item-content v-if=\"comment.commentKey === editCommentKey\">\n              <form class = \"edit-comment\">\n                <v-text-field v-model=\"commentEdit\" width=\"100%\"></v-text-field>\n                <v-btn class=\"mb-2\" outlined small v-on:click=\"editComment(comment.commentKey, userID, commentEdit)\">Submit</v-btn>\n              </form>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n      </v-card>\n\n      <br>\n      <userVariables :key=\"reloadKey\" v-on:evtSaveVar=\"saveNewVar\" v-on:evtSubmit=\"submitForm\" \n        v-on:evtDelVar=\"deleteVar\" />\n      \n      <div class=\"py-10\"></div>\n    </div>\n\n    <div v-if=\"!isVerified\" class = 'not-logged-in'>\n      <p>Please log in or verify your account</p>\n    </div>\n    \n  </v-app>\n</template>\n\n<script>\n  import userVariables from '@/components/users/userVariables.vue'\n  import firebase from 'firebase'\n  import firebaseMixin from '@/mixins/firebaseMixin'\n  import storyMixin from '@/mixins/storyMixin'\n\n  export default {\n    data() {\n      return {\n        userID: firebase.auth().currentUser.uid,\n        userEmail: firebase.auth().currentUser.email,\n        userName: firebase.auth().currentUser.displayName,\n        myComments: [],\n        myStories: [],\n        myStoryDrafts: [],\n        hasStories: false,\n        isVerified: false,\n        reloadKey: 0,\n        editCommentKey: '',\n        commentEdit: '',\n        currentlyEditing: false,\n      };\n    },\n    components: {\n      userVariables\n    },\n    methods: {\n      logout(){\n        firebase.auth().signOut().then(() => {\n          location.replace(\"account.html\")\n        })\n      },\n      submitForm(event){\n        var userProfile = {};\n        var i;\n        for (i=0; i<event.profile.length; i++) {\n          userProfile[event.varNames[i]] = event.profile[i];\n        }\n        var updates = {};\n        updates['/accounts/' + firebase.auth().currentUser.uid + '/profile'] = userProfile;\n        firebase.database().ref().update(updates);\n        document.getElementById(\"formMsg\").innerHTML = \"Your story variables have been successfully updated.\";\n      },\n      saveNewVar(event){\n        // this.openNew = false;\n        var userProfile = {};\n        var i;\n        for (i=0; i<event.profile.length; i++) {\n          userProfile[event.varNames[i]] = event.profile[i];\n        }\n        userProfile[event.varName] = event.varVal;\n        var updates = {};\n        updates['/accounts/' + firebase.auth().currentUser.uid + '/profile'] = userProfile;\n        firebase.database().ref().update(updates);\n        this.reloadKey += 1;\n      },\n      deleteVar(event){\n        if(confirm(\"Are you sure you want to delete this variable?\")){\n          var userProfile = {};\n          var i;\n          for (i=0; i<event.profile.length; i++) {\n            userProfile[event.varNames[i]] = event.profile[i];\n          }\n          userProfile[event.varName] = null;\n          var updates = {};\n          updates['/accounts/' + firebase.auth().currentUser.uid + '/profile'] = userProfile;\n          firebase.database().ref().update(updates);\n          this.reloadKey += 1;\n        }\n      },\n      getStoryDrafts(){\n        var arr = []\n        var storageRef = firebase.storage().ref(this.userEmail)\n        storageRef.listAll().then(function(data){\n          data.prefixes.forEach(function(folderRef){\n            var draftObj = { 'name' : '', 'date': ''}\n            draftObj.name = folderRef.name\n            folderRef.listAll().then(function(child){\n              child.items.forEach(function(tweeRef){\n                tweeRef.getMetadata().then(function(metadata){\n                  var updateDate = metadata.updated.substring(0,10);\n                  updateDate = updateDate.substring(5,7) + '/' + updateDate.substring(8,10) + '/' + updateDate.substring(0,4);\n                  draftObj.date = updateDate;\n                  arr.push(draftObj)\n                })\n              })\n            })\n          })\n        })\n        return arr\n      },\n      goToEditor(storyTweeText, OGstoryText){\n        sessionStorage.setItem(\"createTemplate\", \"\");\n        sessionStorage.setItem(\"OGstoryPassages\", OGstoryText);\n        sessionStorage.setItem(\"storyLocation\", \"\");\n        sessionStorage.setItem(\"storyContent\", storyTweeText);\n\n        const link = document.createElement('a');\n        link.href = \"editor.html\";\n        link.click();\n        URL.revokeObjectURL(link.href);\n      },\n      confirmEdit(commentKey, comment){\n        this.editCommentKey = commentKey;\n        this.commentEdit = comment;\n        this.currentlyEditing = true;\n      }\n    },\n    created() {\n      if(firebase.auth().currentUser){\n        this.isVerified = firebase.auth().currentUser.emailVerified\n      }\n      this.myStories = this.retrieveUserStories(this.userEmail);\n      this.myStoryDrafts = this.getStoriesWithDrafts(this.userID);\n      this.myComments = this.getUserComments(this.userID);\n      if(this.userName == null) {\n        this.userName = firebase.auth().currentUser.email;\n      }\n    },\n    mixins: [firebaseMixin, storyMixin]\n  }\n</script>\n\n<style scoped>\n.container {\n  width: 80%;\n }\n.storyEntry {\n  min-height: 40px;\n }\n.storyEntry .draft-actions{\n  visibility: hidden;\n}\n.storyEntry:hover .draft-actions{\n  visibility: visible;\n}\n.storyLinks {\n  font-weight: bold;\n  text-decoration: none;\n  color: black;\n }\n.storyLinks:hover {\n  text-decoration: underline;\n  color: #FB8C00;\n }\n.comment .comment-actions{\n  visibility: hidden;\n}\n.comment:hover .comment-actions{\n  visibility: visible;\n}\n</style>"],"sourceRoot":"src/components/users"}]}
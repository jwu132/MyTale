{"remainingRequest":"/Users/justinwu/Desktop/story_personalization_system/node_modules/babel-loader/lib/index.js!/Users/justinwu/Desktop/story_personalization_system/node_modules/eslint-loader/index.js??ref--13-0!/Users/justinwu/Desktop/story_personalization_system/src/js/tiptap/packages/tiptap-extensions/src/nodes/Heading.js","dependencies":[{"path":"/Users/justinwu/Desktop/story_personalization_system/src/js/tiptap/packages/tiptap-extensions/src/nodes/Heading.js","mtime":1604692362847},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvanVzdGlud3UvRGVza3RvcC9zdG9yeV9wZXJzb25hbGl6YXRpb25fc3lzdGVtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9qdXN0aW53dS9EZXNrdG9wL3N0b3J5X3BlcnNvbmFsaXphdGlvbl9zeXN0ZW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy9qdXN0aW53dS9EZXNrdG9wL3N0b3J5X3BlcnNvbmFsaXphdGlvbl9zeXN0ZW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvanVzdGlud3UvRGVza3RvcC9zdG9yeV9wZXJzb25hbGl6YXRpb25fc3lzdGVtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL2p1c3Rpbnd1L0Rlc2t0b3Avc3RvcnlfcGVyc29uYWxpemF0aW9uX3N5c3RlbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy9qdXN0aW53dS9EZXNrdG9wL3N0b3J5X3BlcnNvbmFsaXphdGlvbl9zeXN0ZW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IHsgTm9kZSB9IGZyb20gJ3RpcHRhcCc7CmltcG9ydCB7IHNldEJsb2NrVHlwZSwgdGV4dGJsb2NrVHlwZUlucHV0UnVsZSwgdG9nZ2xlQmxvY2tUeXBlIH0gZnJvbSAndGlwdGFwLWNvbW1hbmRzJzsKCnZhciBIZWFkaW5nID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfTm9kZSkgewogIF9pbmhlcml0cyhIZWFkaW5nLCBfTm9kZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoSGVhZGluZyk7CgogIGZ1bmN0aW9uIEhlYWRpbmcoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVhZGluZyk7CgogICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEhlYWRpbmcsIFt7CiAgICBrZXk6ICJjb21tYW5kcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tbWFuZHMoX3JlZikgewogICAgICB2YXIgdHlwZSA9IF9yZWYudHlwZSwKICAgICAgICAgIHNjaGVtYSA9IF9yZWYuc2NoZW1hOwogICAgICByZXR1cm4gZnVuY3Rpb24gKGF0dHJzKSB7CiAgICAgICAgcmV0dXJuIHRvZ2dsZUJsb2NrVHlwZSh0eXBlLCBzY2hlbWEubm9kZXMucGFyYWdyYXBoLCBhdHRycyk7CiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAia2V5cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24ga2V5cyhfcmVmMikgewogICAgICB2YXIgdHlwZSA9IF9yZWYyLnR5cGU7CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMubGV2ZWxzLnJlZHVjZShmdW5jdGlvbiAoaXRlbXMsIGxldmVsKSB7CiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbXMpLCBfZGVmaW5lUHJvcGVydHkoe30sICJTaGlmdC1DdHJsLSIuY29uY2F0KGxldmVsKSwgc2V0QmxvY2tUeXBlKHR5cGUsIHsKICAgICAgICAgIGxldmVsOiBsZXZlbAogICAgICAgIH0pKSk7CiAgICAgIH0sIHt9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbnB1dFJ1bGVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbnB1dFJ1bGVzKF9yZWYzKSB7CiAgICAgIHZhciB0eXBlID0gX3JlZjMudHlwZTsKICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5sZXZlbHMubWFwKGZ1bmN0aW9uIChsZXZlbCkgewogICAgICAgIHJldHVybiB0ZXh0YmxvY2tUeXBlSW5wdXRSdWxlKG5ldyBSZWdFeHAoIl4oI3sxLCIuY29uY2F0KGxldmVsLCAifSlcXHMkIikpLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsZXZlbDogbGV2ZWwKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogIm5hbWUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiAnaGVhZGluZyc7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGVmYXVsdE9wdGlvbnMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbGV2ZWxzOiBbMSwgMiwgMywgNCwgNSwgNl0KICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzY2hlbWEiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgIGxldmVsOiB7CiAgICAgICAgICAgIGRlZmF1bHQ6IDEKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNvbnRlbnQ6ICdpbmxpbmUqJywKICAgICAgICBncm91cDogJ2Jsb2NrJywKICAgICAgICBkZWZpbmluZzogdHJ1ZSwKICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLAogICAgICAgIHBhcnNlRE9NOiB0aGlzLm9wdGlvbnMubGV2ZWxzLm1hcChmdW5jdGlvbiAobGV2ZWwpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHRhZzogImgiLmNvbmNhdChsZXZlbCksCiAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgbGV2ZWw6IGxldmVsCiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgfSksCiAgICAgICAgdG9ET006IGZ1bmN0aW9uIHRvRE9NKG5vZGUpIHsKICAgICAgICAgIHJldHVybiBbImgiLmNvbmNhdChub2RlLmF0dHJzLmxldmVsKSwgMF07CiAgICAgICAgfQogICAgICB9OwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEhlYWRpbmc7Cn0oTm9kZSk7CgpleHBvcnQgeyBIZWFkaW5nIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["/Users/justinwu/Desktop/story_personalization_system/src/js/tiptap/packages/tiptap-extensions/src/nodes/Heading.js"],"names":["Node","setBlockType","textblockTypeInputRule","toggleBlockType","Heading","type","schema","attrs","nodes","paragraph","options","levels","reduce","items","level","map","RegExp","default","content","group","defining","draggable","parseDOM","tag","toDOM","node"],"mappings":";;;;;;;;;;;AAAA,SAASA,IAAT,QAAqB,QAArB;AACA,SAASC,YAAT,EAAuBC,sBAAvB,EAA+CC,eAA/C,QAAsE,iBAAtE;;IAEqBC,O;;;;;;;;;;;;;mCAgCQ;AAAA,UAAhBC,IAAgB,QAAhBA,IAAgB;AAAA,UAAVC,MAAU,QAAVA,MAAU;AACzB,aAAO,UAAAC,KAAK;AAAA,eAAIJ,eAAe,CAACE,IAAD,EAAOC,MAAM,CAACE,KAAP,CAAaC,SAApB,EAA+BF,KAA/B,CAAnB;AAAA,OAAZ;AACD;;;gCAEc;AAAA,UAARF,IAAQ,SAARA,IAAQ;AACb,aAAO,KAAKK,OAAL,CAAaC,MAAb,CAAoBC,MAApB,CAA2B,UAACC,KAAD,EAAQC,KAAR;AAAA,+CAC7BD,KAD6B,4CAGfC,KAHe,GAGLb,YAAY,CAACI,IAAD,EAAO;AAAES,UAAAA,KAAK,EAALA;AAAF,SAAP,CAHP;AAAA,OAA3B,EAKH,EALG,CAAP;AAMD;;;sCAEoB;AAAA,UAART,IAAQ,SAARA,IAAQ;AACnB,aAAO,KAAKK,OAAL,CAAaC,MAAb,CAAoBI,GAApB,CAAwB,UAAAD,KAAK;AAAA,eAAIZ,sBAAsB,CAC5D,IAAIc,MAAJ,iBAAoBF,KAApB,YAD4D,EAE5DT,IAF4D,EAG5D;AAAA,iBAAO;AAAES,YAAAA,KAAK,EAALA;AAAF,WAAP;AAAA,SAH4D,CAA1B;AAAA,OAA7B,CAAP;AAKD;;;wBAjDU;AACT,aAAO,SAAP;AACD;;;wBAEoB;AACnB,aAAO;AACLH,QAAAA,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB;AADH,OAAP;AAGD;;;wBAEY;AACX,aAAO;AACLJ,QAAAA,KAAK,EAAE;AACLO,UAAAA,KAAK,EAAE;AACLG,YAAAA,OAAO,EAAE;AADJ;AADF,SADF;AAMLC,QAAAA,OAAO,EAAE,SANJ;AAOLC,QAAAA,KAAK,EAAE,OAPF;AAQLC,QAAAA,QAAQ,EAAE,IARL;AASLC,QAAAA,SAAS,EAAE,KATN;AAULC,QAAAA,QAAQ,EAAE,KAAKZ,OAAL,CAAaC,MAAb,CACPI,GADO,CACH,UAAAD,KAAK;AAAA,iBAAK;AACbS,YAAAA,GAAG,aAAMT,KAAN,CADU;AAEbP,YAAAA,KAAK,EAAE;AAAEO,cAAAA,KAAK,EAALA;AAAF;AAFM,WAAL;AAAA,SADF,CAVL;AAeLU,QAAAA,KAAK,EAAE,eAAAC,IAAI;AAAA,iBAAI,YAAKA,IAAI,CAAClB,KAAL,CAAWO,KAAhB,GAAyB,CAAzB,CAAJ;AAAA;AAfN,OAAP;AAiBD;;;;EA9BkCd,I;;SAAhBI,O","sourcesContent":["import { Node } from 'tiptap'\nimport { setBlockType, textblockTypeInputRule, toggleBlockType } from 'tiptap-commands'\n\nexport default class Heading extends Node {\n\n  get name() {\n    return 'heading'\n  }\n\n  get defaultOptions() {\n    return {\n      levels: [1, 2, 3, 4, 5, 6],\n    }\n  }\n\n  get schema() {\n    return {\n      attrs: {\n        level: {\n          default: 1,\n        },\n      },\n      content: 'inline*',\n      group: 'block',\n      defining: true,\n      draggable: false,\n      parseDOM: this.options.levels\n        .map(level => ({\n          tag: `h${level}`,\n          attrs: { level },\n        })),\n      toDOM: node => [`h${node.attrs.level}`, 0],\n    }\n  }\n\n  commands({ type, schema }) {\n    return attrs => toggleBlockType(type, schema.nodes.paragraph, attrs)\n  }\n\n  keys({ type }) {\n    return this.options.levels.reduce((items, level) => ({\n      ...items,\n      ...{\n        [`Shift-Ctrl-${level}`]: setBlockType(type, { level }),\n      },\n    }), {})\n  }\n\n  inputRules({ type }) {\n    return this.options.levels.map(level => textblockTypeInputRule(\n      new RegExp(`^(#{1,${level}})\\\\s$`),\n      type,\n      () => ({ level }),\n    ))\n  }\n\n}\n"]}]}
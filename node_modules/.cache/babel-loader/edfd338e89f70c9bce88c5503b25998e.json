{"remainingRequest":"/Users/justinwu/Desktop/story_personalization_system/node_modules/babel-loader/lib/index.js!/Users/justinwu/Desktop/story_personalization_system/node_modules/eslint-loader/index.js??ref--13-0!/Users/justinwu/Desktop/story_personalization_system/src/js/tiptap/packages/tiptap/src/Utils/Emitter.js","dependencies":[{"path":"/Users/justinwu/Desktop/story_personalization_system/src/js/tiptap/packages/tiptap/src/Utils/Emitter.js","mtime":1604692362851},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/justinwu/Desktop/story_personalization_system/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvanVzdGlud3UvRGVza3RvcC9zdG9yeV9wZXJzb25hbGl6YXRpb25fc3lzdGVtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2p1c3Rpbnd1L0Rlc2t0b3Avc3RvcnlfcGVyc29uYWxpemF0aW9uX3N5c3RlbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwoKdmFyIEVtaXR0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEVtaXR0ZXIoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRW1pdHRlcik7CiAgfQoKICBfY3JlYXRlQ2xhc3MoRW1pdHRlciwgW3sKICAgIGtleTogIm9uIiwKICAgIC8vIEFkZCBhbiBldmVudCBsaXN0ZW5lciBmb3IgZ2l2ZW4gZXZlbnQKICAgIHZhbHVlOiBmdW5jdGlvbiBvbihldmVudCwgZm4pIHsKICAgICAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9OyAvLyBDcmVhdGUgbmFtZXNwYWNlIGZvciB0aGlzIGV2ZW50CgogICAgICBpZiAoIXRoaXMuX2NhbGxiYWNrc1tldmVudF0pIHsKICAgICAgICB0aGlzLl9jYWxsYmFja3NbZXZlbnRdID0gW107CiAgICAgIH0KCiAgICAgIHRoaXMuX2NhbGxiYWNrc1tldmVudF0ucHVzaChmbik7CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJlbWl0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBlbWl0KGV2ZW50KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07CiAgICAgIH0KCiAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTsKICAgICAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1tldmVudF07CgogICAgICBpZiAoY2FsbGJhY2tzKSB7CiAgICAgICAgY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkoX3RoaXMsIGFyZ3MpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0gLy8gUmVtb3ZlIGV2ZW50IGxpc3RlbmVyIGZvciBnaXZlbiBldmVudC4KICAgIC8vIElmIGZuIGlzIG5vdCBwcm92aWRlZCwgYWxsIGV2ZW50IGxpc3RlbmVycyBmb3IgdGhhdCBldmVudCB3aWxsIGJlIHJlbW92ZWQuCiAgICAvLyBJZiBuZWl0aGVyIGlzIHByb3ZpZGVkLCBhbGwgZXZlbnQgbGlzdGVuZXJzIHdpbGwgYmUgcmVtb3ZlZC4KCiAgfSwgewogICAga2V5OiAib2ZmIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvZmYoZXZlbnQsIGZuKSB7CiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgewogICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9OwogICAgICB9IGVsc2UgewogICAgICAgIC8vIGV2ZW50IGxpc3RlbmVycyBmb3IgdGhlIGdpdmVuIGV2ZW50CiAgICAgICAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyA/IHRoaXMuX2NhbGxiYWNrc1tldmVudF0gOiBudWxsOwoKICAgICAgICBpZiAoY2FsbGJhY2tzKSB7CiAgICAgICAgICBpZiAoZm4pIHsKICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzW2V2ZW50XSA9IGNhbGxiYWNrcy5maWx0ZXIoZnVuY3Rpb24gKGNiKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGNiICE9PSBmbjsKICAgICAgICAgICAgfSk7IC8vIHJlbW92ZSBzcGVjaWZpYyBoYW5kbGVyCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzW2V2ZW50XTsgLy8gcmVtb3ZlIGFsbCBoYW5kbGVycwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gRW1pdHRlcjsKfSgpOwoKZXhwb3J0IHsgRW1pdHRlciBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["/Users/justinwu/Desktop/story_personalization_system/src/js/tiptap/packages/tiptap/src/Utils/Emitter.js"],"names":["Emitter","event","fn","_callbacks","push","args","callbacks","forEach","callback","apply","arguments","length","filter","cb"],"mappings":";;;;;;IAAqBA,O;;;;;;;AACnB;uBACGC,K,EAAOC,E,EAAI;AACZ,WAAKC,UAAL,GAAkB,KAAKA,UAAL,IAAmB,EAArC,CADY,CAEZ;;AACA,UAAI,CAAC,KAAKA,UAAL,CAAgBF,KAAhB,CAAL,EAA6B;AAC3B,aAAKE,UAAL,CAAgBF,KAAhB,IAAyB,EAAzB;AACD;;AACD,WAAKE,UAAL,CAAgBF,KAAhB,EAAuBG,IAAvB,CAA4BF,EAA5B;;AACA,aAAO,IAAP;AACD;;;yBAEID,K,EAAgB;AAAA;;AAAA,wCAANI,IAAM;AAANA,QAAAA,IAAM;AAAA;;AACnB,WAAKF,UAAL,GAAkB,KAAKA,UAAL,IAAmB,EAArC;AACA,UAAMG,SAAS,GAAG,KAAKH,UAAL,CAAgBF,KAAhB,CAAlB;;AAEA,UAAIK,SAAJ,EAAe;AACbA,QAAAA,SAAS,CAACC,OAAV,CAAkB,UAAAC,QAAQ;AAAA,iBAAIA,QAAQ,CAACC,KAAT,CAAe,KAAf,EAAqBJ,IAArB,CAAJ;AAAA,SAA1B;AACD;;AAED,aAAO,IAAP;AACD,K,CAED;AACA;AACA;;;;wBACIJ,K,EAAOC,E,EAAI;AAEb,UAAI,CAACQ,SAAS,CAACC,MAAf,EAAuB;AACrB,aAAKR,UAAL,GAAkB,EAAlB;AACD,OAFD,MAEO;AACL;AACA,YAAMG,SAAS,GAAG,KAAKH,UAAL,GAAkB,KAAKA,UAAL,CAAgBF,KAAhB,CAAlB,GAA2C,IAA7D;;AACA,YAAIK,SAAJ,EAAe;AACb,cAAIJ,EAAJ,EAAQ;AACN,iBAAKC,UAAL,CAAgBF,KAAhB,IAAyBK,SAAS,CAACM,MAAV,CAAiB,UAAAC,EAAE;AAAA,qBAAIA,EAAE,KAAKX,EAAX;AAAA,aAAnB,CAAzB,CADM,CACqD;AAC5D,WAFD,MAEO;AACL,mBAAO,KAAKC,UAAL,CAAgBF,KAAhB,CAAP,CADK,CACyB;AAC/B;AACF;AACF;;AAED,aAAO,IAAP;AACD;;;;;;SA3CkBD,O","sourcesContent":["export default class Emitter {\n  // Add an event listener for given event\n  on(event, fn) {\n    this._callbacks = this._callbacks || {}\n    // Create namespace for this event\n    if (!this._callbacks[event]) {\n      this._callbacks[event] = []\n    }\n    this._callbacks[event].push(fn)\n    return this\n  }\n\n  emit(event, ...args) {\n    this._callbacks = this._callbacks || {}\n    const callbacks = this._callbacks[event]\n\n    if (callbacks) {\n      callbacks.forEach(callback => callback.apply(this, args))\n    }\n\n    return this\n  }\n\n  // Remove event listener for given event.\n  // If fn is not provided, all event listeners for that event will be removed.\n  // If neither is provided, all event listeners will be removed.\n  off(event, fn) {\n\n    if (!arguments.length) {\n      this._callbacks = {}\n    } else {\n      // event listeners for the given event\n      const callbacks = this._callbacks ? this._callbacks[event] : null\n      if (callbacks) {\n        if (fn) {\n          this._callbacks[event] = callbacks.filter(cb => cb !== fn) // remove specific handler\n        } else {\n          delete this._callbacks[event] // remove all handlers\n        }\n      }\n    }\n\n    return this\n  }\n}\n"]}]}